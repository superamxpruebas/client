(this["webpackJsonpsuperakids-client"]=this["webpackJsonpsuperakids-client"]||[]).push([[0],{201:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var r=a(1),s=(a(193),a(194),a(195),a(196),a(197),a(128),a(0)),n=a.n(s),i=a(19),c=a.n(i),o=(a(201),a(9)),l=a(90),d=a(23),u=a(106),p=a(16),b=a(45),m=function(e){var t=e.inputName,a=e.labelText,s=e.helperText,n=e.optionalField,i=e.disabled,c=e.type,o=Object(u.a)(e,["inputName","labelText","helperText","optionalField","disabled","type"]);return Object(r.jsx)(p.a,{name:t,children:function(e){var l=e.field,u=e.form;return Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsxs)("label",{htmlFor:t,children:[a,Object(r.jsx)("small",{children:n&&" (opcional)"})]}),Object(r.jsx)(b.InputText,Object(d.a)(Object(d.a)(Object(d.a)({id:t,className:"p-mr-2 p-d-inline "+(u.touched[t]&&u.errors[t]&&"p-invalid")},l),o),{},{disabled:i,type:c,"aria-describedby":t+"-helper"})),Object(r.jsx)("small",{id:t+"-helper",children:s}),Object(r.jsx)("small",{id:t+"-error",className:"p-invalid",children:u.touched[t]&&u.errors[t]&&u.errors[t]})]})}})};m.defaultProps={optionalField:!1,disabled:!1,helperText:"",type:"text"};var j=m,h=a(8),O=a(11),f="https://superakids.com",x="/api/v1",g="/therapists",v="/users",S=f+x+g+"/?/image/upload",y=f+x+v+"/?/image/upload",E="https://superakids-bucket.s3.us-east-2.amazonaws.com/logos/SuperaKidsLogo.png",N="Imagen actual",T={severity:"info",sticky:!0,closable:!1,content:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"p-message-icon pi  pi-info-circle"}),Object(r.jsxs)("div",{className:"p-ml-2",children:[Object(r.jsx)("p",{className:"p-text-bold p-mb-1",children:"La contrase\xf1a debe cumplir con los siguientes requisitos:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Longitud de 8 (m\xednimo) a 24 (m\xe1ximo) caracteres."}),Object(r.jsx)("li",{children:"Incluir al menos 1 d\xedgito."}),Object(r.jsx)("li",{children:"Incluir al menos 1 s\xedmbolo."}),Object(r.jsx)("li",{children:"Incluir al menos 1 letra min\xfascula."}),Object(r.jsx)("li",{children:"Incluir al menos 1 letra may\xfascula."})]})]})]})},A={firstDayOfWeek:1,dayNames:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],dayNamesShort:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",clear:"Limpiar"},I="dd/mm/yy",L={success:"\xc9xito",info:"Informe",warn:"Advertencia",error:"Error",many:"Advertencia"},P=a(22),w=a(13),R=a.n(w),_=a(26),D=a(20),M=a.n(D),C="THERAPIST_LOGIN_REQUEST",U="THERAPIST_LOGIN_SUCCESS",F="THERAPIST_LOGIN_FAIL",k="THERAPIST_LOGOUT",B="THERAPIST_UPDATE_PROFILE_REQUEST",V="THERAPIST_UPDATE_PROFILE_SUCCESS",H="THERAPIST_UPDATE_PROFILE_FAIL",K="THERAPIST_LIST_REQUEST",G="THERAPIST_LIST_SUCCESS",J="THERAPIST_LIST_FAIL";function Y(e){return e=(e=(e=(e=(e=(e=e.replace(/\xe1/gi,"a")).replace(/\xe9/gi,"e")).replace(/\xed/gi,"i")).replace(/\xf3/gi,"o")).replace(/\xfa/gi,"u")).replace(/\xfc/gi,"u")}function z(e){return e.map((function(e){return{label:e,value:e}}))}function W(e){return e||"https://superakids-bucket.s3.us-east-2.amazonaws.com/defaults/img/defaultProfileImage.png"}function q(e){if(""===e||null==e)return null;var t=e.split("/"),a=parseInt(t[0]),r=parseInt(t[1])-1,s=parseInt(t[2]);return new Date(s,r,a)}function X(e){if(""===e||null==e)return null;var t=e.split(" "),a=q(t[0]),r=t[1].split(":");return a.setHours(parseInt(r[0]),parseInt(r[0])),a}function Z(e){if(null==e)return"";var t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2);return"".concat(t,"/").concat(a,"/").concat(e.getFullYear())}function Q(e){if(null==e)return"";var t=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2);try{return e.toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+" a las "+t+":"+a+" horas"}catch(r){return Z(e)}}function $(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function ee(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)}function te(e,t){var a=new Date(e);return a.setMonth(a.getMonth()+t),a}function ae(){return new Date((new Date).getFullYear(),0,1)}function re(){return new Date((new Date).getFullYear()+1,11,31)}function se(){var e=ae().getFullYear(),t=re().getFullYear();return"".concat(e,":").concat(t)}var ne=function(){var e=(new Date).getFullYear();return"1960:".concat(e)},ie=function(e){return e.map((function(e,t){return ce(e)}))},ce=function(e){e.nextFollowupDate=q(e.nextFollowup),e.nextEvaluationReportDate=q(e.nextEvaluationReport);var t=JSON.parse(e.notes);return e.notesContents=t.contents,e},oe=function(e){return e.map((function(e,t){return le(e)}))},le=function(e){return e.users=[],e.lastSessionDate=X(e.lastSession),e},de=function(e){return e.lastSessionDate=X(e.lastSession),e},ue=function(){return function(e){sessionStorage.setItem("logoutActionSK-2021","logoutAction"),sessionStorage.removeItem("therapistInfoSK-2021"),sessionStorage.removeItem("usersSK-2021"),sessionStorage.removeItem("therapistsSK-2021"),document.location.href="/login"}},pe=function(e){return function(){var t=Object(_.a)(R.a.mark((function t(a){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:K}),r={headers:{"Content-Type":"application/json"},withCredentials:!0},t.prev=2,t.next=5,M.a.get(f+x+g,r).then((function(e){var t=oe(e.data.subBody);sessionStorage.setItem("therapistsSK-2021",JSON.stringify(t)),a({type:G,payload:t})})).catch((function(e){a({type:J}),401!==e.response.status||a(ue())}));case 5:t.next=13;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0,"getTherapistsList"),a({type:J}),e.current.clear(),e.current.show({severity:"error",summary:L.error,detail:"Error obteniendo terapeutas.",sticky:!0,closable:!0});case 13:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()},be=a(38),me=function(e){var t=e.history,a=Object(s.useRef)(null),n=Object(O.b)(),i=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo;if(Object(s.useEffect)((function(){sessionStorage.getItem("logoutActionSK-2021")&&(M.a.post(f+x+"/access/logout",{},{withCredentials:!0}).then((function(e){a.current.replace([{severity:e.data.severity,detail:e.data.message,sticky:!0,closable:!1}])})).catch((function(e){e.response?a.current.replace([{severity:e.response.data.severity||"error",detail:e.response.data.message||"Ocurri\xf3 un error interno :(",sticky:!0,closable:!1}]):(console.log("doLogout - catch - final error"),console.log(e,"error"),console.log(e.message,"error message"),a.current.replace([{severity:"error",detail:"Ocurri\xf3 un error interno :(",sticky:!0,closable:!1}]))})),sessionStorage.removeItem("logoutActionSK-2021"))}),[]),i)return t.push("/"),Object(r.jsx)(r.Fragment,{});return Object(r.jsx)("div",{className:"outer",children:Object(r.jsx)("div",{className:"inner",children:Object(r.jsx)(p.c,{initialValues:function(){var e=localStorage.getItem("rememberMeSK-2021");return e?{email:e,password:"",rememberMe:!0}:{email:"",password:"",rememberMe:!1}}(),validationSchema:h.e().shape({email:h.f().default("").required("La direcci\xf3n de correo electr\xf3nico no puede estar vac\xeda.").email("Formato incorrecto de direcci\xf3n de correo electr\xf3nico.").max(50,"La direcci\xf3n de correo electr\xf3nico no debe ser mayor a 50 caracteres."),password:h.f().default("").required("La contrase\xf1a no puede estar vac\xeda."),rememberMe:h.b().default(!1)}),onSubmit:function(e,t){var r=e.email,s=e.password,i=e.rememberMe;a.current&&a.current.clear(),n(function(e,t,a,r,s){return function(){var n=Object(_.a)(R.a.mark((function n(i){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:C}),c={headers:{"Content-Type":"application/json"},withCredentials:!0},n.prev=2,n.next=5,M.a.post(f+x+"/access/login",{email:e,password:t},c).then((function(t){a?localStorage.setItem("rememberMeSK-2021",e):localStorage.removeItem("rememberMeSK-2021"),sessionStorage.setItem("therapistInfoSK-2021",JSON.stringify(t.data.subBody)),i({type:U,payload:t.data.subBody})})).catch((function(e){e.response&&e.response.data&&s.current.replace([{severity:e.response.data.severity,summary:"",detail:e.response.data.message,sticky:!0,closable:!1}]),i({type:F,payload:{}})}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),s.current.replace([{severity:"error",summary:"",detail:"Error iniciando sesi\xf3n.",sticky:!0,closable:!1}]);case 10:r(!1);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}()}(r,s,i,t.setSubmitting,a))},children:function(e){var t=e.values,s=e.isSubmitting,n=(e.isValid,e.setFieldValue);e.touched,e.errors;return Object(r.jsxs)(p.b,{children:[Object(r.jsx)("img",{alt:"Logo",src:E,style:{width:"50%",marginRight:"auto",marginLeft:"auto",display:"block",padding:"20px"}}),Object(r.jsx)("h3",{children:"Iniciar Sesi\xf3n"}),Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsxs)("div",{className:"p-col-12",children:[Object(r.jsx)(be.Messages,{ref:a}),Object(r.jsx)("hr",{})]}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:"email",labelText:"Correo Electr\xf3nico",placeholder:"Correo Electr\xf3nico"})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:"password",labelText:"Contrase\xf1a",placeholder:"Contrase\xf1a",type:"password"})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field-checkbox",children:[Object(r.jsx)(l.Checkbox,{inputId:"rememberMe",checked:t.rememberMe,onChange:function(e){n("rememberMe",e.checked)}}),Object(r.jsx)("label",{htmlFor:"rememberMe",style:{marginBottom:"0px"},children:"Recordarme"})]})}),Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:s?"Cargando...":"Entrar",className:"p-button",type:"submit",disabled:s})})]})]})}})})})},je=a(393),he=a(394),Oe=a(395),fe=a(401),xe=a(7),ge=a(391),ve=a(400),Se=a(392),ye=a(34),Ee=a(14),Ne=a(95),Te=a(397),Ae=function(e){var t=e.title,a=e.showModalState,s=e.closeButtonFunction,n=e.children;return Object(r.jsxs)(Te.a,{centered:!0,size:"lg",show:a,"aria-labelledby":"SKModal",backdrop:"static",children:[Object(r.jsxs)(Te.a.Header,{children:[Object(r.jsx)(Te.a.Title,{id:"SKModal",children:t}),Object(r.jsx)(o.Button,{icon:"pi pi-times",className:"p-button-rounded p-button-plain p-button-text ",style:{margin:"0px 0px 0px auto"},onClick:function(e){return s()}})]}),Object(r.jsx)(Te.a.Body,{id:"SKModalBody",children:n})]})},Ie=a(4),Le=a(39),Pe=a(28),we="El t\xedtulo del problema no puede estar vac\xedo.",Re=300,_e="^[0-9]{2}[\\/]{1}[0-9]{2}[\\/]{1}[0-9]{4}$",De="[^a-zA-Z\\d\\s]+",Me="El apellido paterno no puede estar vac\xedo.",Ce="El segundo nombre no debe tener una longitud de m\xe1s de 25 caracteres.",Ue="La direcci\xf3n de correo electr\xf3nico no puede estar vac\xeda.",Fe="El primer nombre no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",ke="El primer nombre debe tener una longitud de 1 a 25 caracteres.",Be="Al menos una de las direcciones de correo electr\xf3nico es mayor a 50 caracteres.",Ve="Valor incorrecto para la vista del problema.",He="[A-Z]+",Ke="La lista de direcciones de correo electr\xf3nico no puede tener m\xe1s de 25 direcciones de correo.",Ge="Valor incorrecto para el estado de cuenta de Terapeuta.",Je="Formato incorrecto de direcci\xf3n de correo electr\xf3nico.",Ye="Al menos una de las direcciones de correo electr\xf3nico tiene un formato incorrecto.",ze=30,We=25,qe="El apellido materno no puede estar vac\xedo.",Xe=["true","false"],Ze="La contrase\xf1a debe contener letras min\xfasculas.",Qe="[a-z]+",$e="El valor de educaci\xf3n no puede estar vac\xedo.",et="El primer nombre no puede estar vac\xedo.",tt="La contrase\xf1a debe contener al menos 1 letra may\xfascula.",at=50,rt="La contrase\xf1a debe tener una longitud de 8 a 24 caracteres.",st="La descripci\xf3n del problema no debe ser mayor a 150 caracteres.",nt="El estado de cuenta de Terapeuta no puede estar vac\xedo.",it="No se puede asignar m\xe1s de 10 roles a un Terapeuta.",ct="La contrase\xf1a no puede estar vac\xeda.",ot="Valor incorrecto para sexo.",lt="La fecha de nacimiento no puede estar vac\xeda.",dt="La contrase\xf1a vieja y nueva no pueden ser iguales.",ut="La confirmaci\xf3n para actualizar los roles solo puede ser true o false.",pt="La confirmaci\xf3n para actualizar la contrase\xf1a solo puede ser true o false.",bt="La direcci\xf3n de correo electr\xf3nico no debe ser mayor a 50 caracteres.",mt=8,jt="El apellido paterno no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",ht="La confirmaci\xf3n para actualizar los roles no puede estar vac\xeda.",Ot="Las contrase\xf1as no concuerdan entre s\xed.",ft=40,xt=25,gt="La confirmaci\xf3n para actualizar la contrase\xf1a no puede estar vac\xeda.",vt="El apellido materno no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",St="La contrase\xf1a debe contener al menos 1 s\xedmbolo. Ejemplos: =, ?, etc.",yt=["Hombre","Mujer"],Et="El segundo nombre no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",Nt="\\d+",Tt="Valor incorrecto para educaci\xf3n.",At="La vista del problema no debe ser mayor a 25 caracteres.",It=10,Lt=10,Pt="La lista de direcciones de correo electr\xf3nico no puede estar vac\xeda.",wt="El apellido paterno debe tener una longitud de 1 a 25 caracteres.",Rt=["Dashboard","Usuarios","TDAH","Actividad_tdah","Supera","Actividad_supera","Administracion"],_t="El t\xedtulo del problema no debe ser mayor a 40 caracteres.",Dt="La vista del problema no puede estar vac\xeda.",Mt="El sexo no puede estar vac\xedo.",Ct="El valor de educaci\xf3n no debe ser mayor a 30 caracteres.",Ut="La contrase\xf1a debe contener al menos 1 d\xedgito.",Ft=24,kt=["Activada","Desactivada"],Bt="La descripci\xf3n del problema no puede estar vac\xeda.",Vt="La contrase\xf1a vieja no puede estar vac\xeda.",Ht=["1er A\xf1o de Preescolar","2do A\xf1o de Preescolar","3er A\xf1o de Preescolar","1er A\xf1o de Primaria","2do A\xf1o de Primaria","3er A\xf1o de Primaria","4to A\xf1o de Primaria","5to A\xf1o de Primaria","6to A\xf1o de Primaria","1er A\xf1o de Secundaria","2do A\xf1o de Secundaria","3rer A\xf1o de Secundaria","1er A\xf1o de Preparatoria","2do A\xf1o de Preparatoria","3er A\xf1o de Preparatoria","4to A\xf1o de Preparatoria","1er A\xf1o de Universidad","2do A\xf1o de Universidad","3er A\xf1o de Universidad","4to A\xf1o de Universidad","5to A\xf1o de Universidad en adelante","Maestr\xeda","Doctorado","Sin estudios","Profesionista"],Kt="El apellido materno debe tener una longitud de 1 a 25 caracteres.",Gt=new RegExp("\\s+"),Jt=new RegExp(Nt),Yt=new RegExp(De),zt=new RegExp(He),Wt=new RegExp(Qe),qt=(new RegExp(_e),""),Xt=[],Zt="false",Qt="Seleccionar",$t="fullName",ea="Nombre Completo",ta="yearsOld",aa="Edad",ra="lastSession",sa="\xdaltima Sesi\xf3n",na="isAdmin",ia="Es Administrador",ca={name:"firstName",default:qt,label:"Primer Nombre",placeholder:"Primer Nombre",validation:h.f().default(qt).required(et).max(We,ke).test("containsWhiteSpace",Fe,(function(e,t){return-1===e.search(Gt)}))},oa={name:"secondName",default:qt,label:"Segundo Nombre",placeholder:"Segundo Nombre",validation:h.f().default(qt).optional().max(We,Ce).test("containsWhiteSpace",Et,(function(e,t){return-1===e.search(Gt)}))},la={name:"paternalSurname",default:qt,label:"Apellido Paterno",placeholder:"Apellido Paterno",validation:h.f().default(qt).required(Me).max(We,wt).test("containsWhiteSpace",jt,(function(e,t){return-1===e.search(Gt)}))},da={name:"maternalSurname",default:qt,label:"Apellido Materno",placeholder:"Apellido Materno",validation:h.f().default(qt).required(qe).max(We,Kt).test("containsWhiteSpace",vt,(function(e,t){return-1===e.search(Gt)}))},ua={name:"sex",default:qt,label:"Sexo",placeholder:Qt,validation:h.f().default(qt).required(Mt).oneOf(yt,ot)},pa={name:"email",default:qt,label:"Correo Electr\xf3nico",placeholder:"Correo Electr\xf3nico",validation:h.f().default(qt).required(Ue).email(Je).max(at,bt)},ba={name:"updatePasswordBool",default:Zt,label:"Actualizar contrase\xf1a",validation:h.f().default(Zt).required(gt).oneOf(Xe,pt)},ma={name:"newPassword",default:qt,label:"Contrase\xf1a (nueva)",placeholder:"Contrase\xf1a (nueva)",validation:h.f().default(qt).when(ba.name,{is:"true",then:h.f().default(qt).required(ct).min(mt,rt).max(Ft,rt).test("passwordsNoMatch",dt,(function(e,t){return e!==t.parent[ha.name]})).test("passwordHasDigit",Ut,(function(e,t){return-1!==e.search(Jt)})).test("passwordHasSymbol",St,(function(e,t){return-1!==e.search(Yt)})).test("passwordHasUpper",tt,(function(e,t){return-1!==e.search(zt)})).test("passwordHasLower",Ze,(function(e,t){return-1!==e.search(Wt)}))}),signupName:"password",signupValidation:h.f().default(qt).required(ct).min(mt,rt).max(Ft,rt).test("passwordHasDigit",Ut,(function(e,t){return-1!==e.search(Jt)})).test("passwordHasSymbol",St,(function(e,t){return-1!==e.search(Yt)})).test("passwordHasUpper",tt,(function(e,t){return-1!==e.search(zt)})).test("passwordHasLower",Ze,(function(e,t){return-1!==e.search(Wt)}))},ja={name:"newPasswordConfirm",default:qt,label:"Contrase\xf1a (nueva confirmar)",placeholder:"Contrase\xf1a (nueva confirmar)",validation:h.f().default(qt).when(ba.name,{is:"true",then:h.f().default(qt).required(gt).test("passwordsMatch",Ot,(function(e,t){return e===t.parent[ma.name]}))}),signupName:"passwordConfirm",signupValidation:h.f().default(qt).required(gt).test("passwordsMatch",Ot,(function(e,t){return e===t.parent[ma.signupName]}))},ha={name:"oldPassword",default:qt,label:"Contrase\xf1a (actual)",placeholder:"Contrase\xf1a (actual)",validation:h.f().default(qt).when(ba.name,{is:"true",then:h.f().default(qt).required(Vt)})},Oa="nextFollowup",fa=null,xa="Fecha de Siguiente Entrevista de Seguimiento",ga="Fecha",va=(h.c().optional(),"nextEvaluationReport"),Sa=qt,ya="Fecha de Siguiente Reporte de Evaluaci\xf3n",Ea="Fecha",Na=(h.c().optional(),{name:"password",default:qt,label:"Contrase\xf1a",placeholder:"Contrase\xf1a",validation:h.f().default(qt).required("La contrase\xf1a no puede estar vac\xeda.")}),Ta={name:"emails",default:Xt,label:"Direcciones de correo electr\xf3nico de Terapeuta(s)",placeholder:"Direcciones de correo electr\xf3nico de Terapeuta(s)",validation:h.a().default(Xt).of(h.f().default(qt).email(Ye).max(at,Be)).test("isEmpty",Pt,(function(e,t){return 0!==e.length})).max(It,Ke)},Aa="accountState",Ia=qt,La="Estado de Cuenta",Pa=(h.f().default(qt).required(nt).oneOf(kt,Ge),{name:"updateRolesBool",default:Zt,label:"Actualizar Roles de Terapeuta",validation:h.f().default(Zt).required(ht).oneOf(Xe,ut)}),wa="roleIds",Ra=Xt,_a=(h.a().default(Xt).when(Pa.name,{is:"true",then:h.a().default(Xt).of(h.d()).max(Lt,it)}),{name:"title",default:qt,label:"T\xedtulo",placeholder:"T\xedtulo",validation:h.f().required(we).max(ft,_t)}),Da={name:"view",default:qt,label:"Nombre de pantalla",placeholder:"Nombre de pantalla",validation:h.f().required(Dt).max(xt,At).oneOf(Rt,Ve)},Ma={name:"description",default:qt,label:"Descripci\xf3n",placeholder:"Descripci\xf3n",validation:h.f().required(Bt).max(Re,st)},Ca={name:"birthday",default:qt,label:"Fecha de Nacimiento",placeholder:"Fecha de Nacimiento",validation:h.c().required(lt)},Ua={name:"education",default:qt,label:"Educaci\xf3n",placeholder:Qt,validation:h.f().default(qt).required($e).max(ze,Ct).oneOf(Ht,Tt)},Fa="notes",ka="",Ba="Notas",Va="Agregar notas...",Ha=a(176),Ka="USER_LIST_REQUEST",Ga="USER_LIST_SUCCESS",Ja="USER_LIST_FAIL",Ya=function(e){var t=e.photoUrl,a=e.imagePreviewTitle,n=e.disabled,i=e.id,o=e.toastRef,l=e.closeModal,d=e.mode,u=Object(s.useRef)({}),p=Object(s.useRef)({}),b=Object(s.useState)(N),m=Object(xe.a)(b,2),j=m[0],h=m[1],f=Object(s.useState)((function(){return W(t)})),x=Object(xe.a)(f,2),g=x[0],v=x[1],E="";E="therapist"===d||"self"===d?S.replace("?",i):y.replace("?",i);var T=Object(O.b)();Object(s.useEffect)((function(){u.current={PROBLEM_TITLE_EMPTY:"El t\xedtulo del problema no puede estar vac\xedo.",ROLES_LIST_NOT_FOUND:"No se encontr\xf3 el rol especificado.",PROBLEM_DESC_MAX:150,DATE_PATTERN_REGEX:"^[0-9]{2}[\\/]{1}[0-9]{2}[\\/]{1}[0-9]{4}$",PASS_SYMBOL_REGEX_PATTERN:"[^a-zA-Z\\d\\s]+",EMAIL_REGEX_PATTERN:"^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$",SYSTEM_MAX_LENGTH:25,PATERNALSURNAME_EMPTY:"El apellido paterno no puede estar vac\xedo.",IMAGE_EMPTY:"La imagen no puede estar vac\xeda.",SECONDNAME_BAD_LENGTH:"El segundo nombre no debe tener una longitud de m\xe1s de 25 caracteres.",EMAIL_EMPTY:"La direcci\xf3n de correo electr\xf3nico no puede estar vac\xeda.",FIRSTNAME_WHITESPACE:"El primer nombre no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",IMAGE_SIZE_MAX:1e7,FIRSTNAME_BAD_LENGTH:"El primer nombre debe tener una longitud de 1 a 25 caracteres.",EMAILS_LIST_VALUE_TOOLONG:"Al menos una de las direcciones de correo electr\xf3nico es mayor a 50 caracteres.",PROBLEM_VIEW_INVALID:"Valor incorrecto para la vista del problema.",PASS_UPPER_REGEX_PATTERN:"[A-Z]+",EMAILS_LIST_TOOLONG:"La lista de direcciones de correo electr\xf3nico no puede tener m\xe1s de 25 direcciones de correo.",ACCOUNT_STATE_INVALID:"Valor incorrecto para el estado de cuenta de Terapeuta.",NEXTFOLLOWUP_EMPTY:"La fecha de pr\xf3xima entrevista de seguimiento no puede estar vac\xeda.",PASS_BAD_FORMAT:"El formato de la contrase\xf1a es incorrecto.",EMAIL_BAD_FORMAT:"Formato incorrecto de direcci\xf3n de correo electr\xf3nico.",EMAILS_LIST_BAD_FORMAT:"Al menos una de las direcciones de correo electr\xf3nico tiene un formato incorrecto.",NEXTEVALREPORT_INVALID:"Formato o valor incorrecto para fecha de pr\xf3ximo reporte de evaluaci\xf3n.",EDUCATION_MAX_LENGTH:30,NAME_MAX_LENGTH:25,MATERNALSURNAME_EMPTY:"El apellido materno no puede estar vac\xedo.",BOOLEAN_VALUES:["true","false"],THERAPIST_ID_INVALID:"ID de Terapeuta no fu\xe9 proporcionado o es un valor inv\xe1lido.",NOTES_EMPTY:"Las notas no pueden estar vac\xedas.",SYSTEM_TOOLONG:"El sistema no debe ser mayor a 25 caracteres.",NEXTEVALREPORT_EMPTY:"La fecha de pr\xf3ximo reporte de evaluaci\xf3n no puede estar vac\xeda.",SYSTEM_EMPTY:"El sistema no puede estar vac\xedo.",PASS_MISS_LOWER:"La contrase\xf1a debe contener letras min\xfasculas.",PROBLEM_VIEW_VALUES_REFERENCE:"PROBLEM_VIEW_VALUES",NEXTEVALREPORT_PASSED_DATE:"La fecha de pr\xf3ximo reporte de evaluaci\xf3n debe de ser de hoy en adelante.",PASS_LOWER_REGEX_PATTERN:"[a-z]+",IMAGE_INVALID_FORMAT:"Formato de imagen inv\xe1lido.",EMAILS_LIST_VALUE_EMPTY:"Al menos una de las direcciones de correo electr\xf3nico est\xe1 vacia.",LEVELEXERCISE_ID_INVALID:"ID de Ejercicio de Nivel no fu\xe9 proporcionado o es un valor inv\xe1lido.",NAME_MIN_LENGTH:1,EDUCAITON_EMPTY:"El valor de educaci\xf3n no puede estar vac\xedo.",PROBLEM_STATE_VALUES:["Pendiente","Revisando","Corregido"],PASS_CONFIRM_EMPTY:"La confirmaci\xf3n de contrase\xf1a no puede estar vac\xeda.",DATETIME_PATTERN:"dd/MM/yyyy HH:mm:ss",FIRSTNAME_EMPTY:"El primer nombre no puede estar vac\xedo.",PASS_MISS_UPPER:"La contrase\xf1a debe contener al menos 1 letra may\xfascula.",EMAIL_MAX_LENGTH:50,PASS_BAD_LENGTH:"La contrase\xf1a debe tener una longitud de 8 a 24 caracteres.",PROBLEM_DESC_TOOLONG:"La descripci\xf3n del problema no debe ser mayor a 150 caracteres.",ACCOUNT_STATE_EMPTY:"El estado de cuenta de Terapeuta no puede estar vac\xedo.",ROLES_LIST_MAX_NUMBER_REACHED:"No se puede asignar m\xe1s de 10 roles a un Terapeuta.",PASS_EMPTY:"La contrase\xf1a no puede estar vac\xeda.",NEXTFOLLOWUP_INVALID:"Formato o valor incorrecto para fecha de pr\xf3xima entrevista de seguimiento.",SEX_INVALID:"Valor incorrecto para sexo.",BIRTHDAY_EMPTY:"La fecha de nacimiento no puede estar vac\xeda.",PASS_OLD_NEW_SAME:"La contrase\xf1a vieja y nueva no pueden ser iguales.",USER_ID_INVALID:"ID de Usuario no fu\xe9 proporcionado o es un valor inv\xe1lido.",UPDATE_ROLE_CONFIRM_INVALID:"La confirmaci\xf3n para actualizar los roles solo puede ser true o false.",MODE_ID_INVALID:"ID de Modo de Ejercicio de TDAH no fu\xe9 proporcionado o es un valor inv\xe1lido.",BIRTHDAY_INVALID:"Formato o valor incorrecto para fecha de nacimiento.",PROBLEM_STATE_VALUES_REFERENCE:"PROBLEM_STATE_VALUES",UPDATE_PASS_CONFIRM_INVALID:"La confirmaci\xf3n para actualizar la contrase\xf1a solo puede ser true o false.",EMAIL_TOOLONG:"La direcci\xf3n de correo electr\xf3nico no debe ser mayor a 50 caracteres.",PASS_MIN_LENGTH:8,PATERNALSURNAME_WHITESPACE:"El apellido paterno no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",UPDATE_ROLE_CONFIRM_EMPTY:"La confirmaci\xf3n para actualizar los roles no puede estar vac\xeda.",PASS_NO_MATCH:"Las contrase\xf1as no concuerdan entre s\xed.",PROBLEM_TITLE_MAX:40,PROBLEM_VIEW_MAX:25,UPDATE_PASS_CONFIRM_EMPTY:"La confirmaci\xf3n para actualizar la contrase\xf1a no puede estar vac\xeda.",EMAILS_LIST_NULL:"No se encontr\xf3 una lista de direcciones de correo.",TDAH_STATE_VALUES_REFERENCE:"TDAH_STATE_VALUES",MATERNALSURNAME_WHITESPACE:"El apellido materno no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",PASS_MISS_SYMBOL:"La contrase\xf1a debe contener al menos 1 s\xedmbolo. Ejemplos: =, ?, etc.",SEX_VALUES:["Hombre","Mujer"],EDUCATION_VALUES_REFERENCE:"EDUCATION_VALUES",ROLES_LIST_NULL:"No se encontr\xf3 una lista de roles.",BOOLEAN_VALUES_REFERENCE:"BOOLEAN_VALUES",SECONDNAME_WHITESPACE:"El segundo nombre no debe tener espacios en blanco. Ejemplos: espacios, tabulaciones, etc.",NEXTFOLLOWUP_PASSED_DATE:"La fecha de pr\xf3xima entrevista de seguimiento debe de ser de hoy en adelante.",IMAGE_TOOBIG:"La imagen no puede ser mayor de 10 MB.",PASS_DIGIT_REGEX_PATTERN:"\\d+",ACCOUNT_STATE_VALUES_REFERENCE:"ACCOUNT_STATE_VALUES",TDAH_SETTINGS_VALUES_EMPTY:"Los ajustes de Partida de TDAH no puede estar vac\xedo.",IMAGE_FORMAT_VALUES:["gif","GIF","png","PNG","jpg","JPG","jpeg","JPEG"],EDUCATION_INVALID:"Valor incorrecto para educaci\xf3n.",PROBLEM_VIEW_TOOLONG:"La vista del problema no debe ser mayor a 25 caracteres.",EMAILS_LIST_MAX:25,ROLES_MAX_NUMBER:10,ACTIVITYEXERCISE_ID_INVALID:"ID de Ejercicio de Actividad no fu\xe9 proporcionado o es un valor inv\xe1lido.",TDAH_STATE_VALUES:["Pendiente","Completado"],EMAILS_LIST_EMPTY:"La lista de direcciones de correo electr\xf3nico no puede estar vac\xeda.",PATERNALSURNAME_BAD_LENGTH:"El apellido paterno debe tener una longitud de 1 a 25 caracteres.",NOTES_INVALID:"Formato o valor incorrecto para notas.",PROBLEM_VIEW_VALUES:["Dashboard","Usuarios","TDAH","Actividad_tdah","Supera","Actividad_supera","Administracion"],WHITESPACE_REGEX_PATTERN:"\\s+",PROBLEM_TITLE_TOOLONG:"El t\xedtulo del problema no debe ser mayor a 40 caracteres.",DATE_PATTERN:"dd/MM/yyyy",PROBLEM_VIEW_EMPTY:"La vista del problema no puede estar vac\xeda.",SEX_EMPTY:"El sexo no puede estar vac\xedo.",EDUCATION_TOOLONG:"El valor de educaci\xf3n no debe ser mayor a 30 caracteres.",PASS_MISS_DIGIT:"La contrase\xf1a debe contener al menos 1 d\xedgito.",PASS_MAX_LENGTH:24,ACCOUNT_STATE_VALUES:["Activada","Desactivada"],TDAH_STATE_EMPTY:"El estado de Partida de TDAH no puede estar vac\xedo.",PROBLEM_DESC_EMPTY:"La descripci\xf3n del problema no puede estar vac\xeda.",TDAH_STATE_INVALID:"Valor incorrecto para estado de Partida de TDAH.",PASS_OLD_EMPTY:"La contrase\xf1a vieja no puede estar vac\xeda.",SEX_VALUES_REFERENCE:"SEX_VALUES",EDUCATION_VALUES:["1er A\xf1o de Preescolar","2do A\xf1o de Preescolar","3er A\xf1o de Preescolar","1er A\xf1o de Primaria","2do A\xf1o de Primaria","3er A\xf1o de Primaria","4to A\xf1o de Primaria","5to A\xf1o de Primaria","6to A\xf1o de Primaria","1er A\xf1o de Secundaria","2do A\xf1o de Secundaria","3rer A\xf1o de Secundaria","1er A\xf1o de Preparatoria","2do A\xf1o de Preparatoria","3er A\xf1o de Preparatoria","4to A\xf1o de Preparatoria","1er A\xf1o de Universidad","2do A\xf1o de Universidad","3er A\xf1o de Universidad","4to A\xf1o de Universidad","5to A\xf1o de Universidad en adelante","Maestr\xeda","Doctorado","Sin estudios","Profesionista"],TDAH_SETTINGS_VALUES_INVALID:"Valor incorrecto para ajustes de Partida de TDAH.",MATERNALSURNAME_BAD_LENGTH:"El apellido materno debe tener una longitud de 1 a 25 caracteres."}}),[]);var A=function(e,t,a){v(e),h(t);var r=c.a.findDOMNode(p.current).children[0].children[0],s=r.children[0];a?(s.disabled=!0,r.classList.add("p-disabled")):(s.disabled=!1,r.classList.remove("p-disabled"))};return Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(r.jsx)("div",{className:"p-col-12 p-mt-3",children:Object(r.jsx)("h6",{children:a})}),Object(r.jsx)("div",{className:"p-col-12 "+(n?"":" p-lg-3 ")+"p-text-center",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)(ge.a,{id:"imagePreview",src:g,className:"p-shadow-2 rounded-image rounded-image-big"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{id:"imagePreviewHelper",children:j})]})}),Object(r.jsx)("div",{className:n?"hide":"p-col-12 p-lg-9",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)(Ha.FileUpload,{ref:p,id:"imageUploader",name:"file",url:E,chooseLabel:"Escoger",uploadLabel:"Subir",cancelLabel:"Cancelar",emptyTemplate:'Suelte un archivo aqu\xed para continuar, se ver\xe1 una vista previa en "Imagen actual"',multiple:!1,withCredentials:!0,maxFileSize:u.current.IMAGE_SIZE_MAX,accept:"image/*",invalidFileSizeMessageSummary:u.IMAGE_TOOBIG,onSelect:function(e){A(e.files[0].objectURL,"Vista previa de imagen",!0)},onClear:function(){A(W(t),N,!1)},onRemove:function(e){A(W(t),N,!1)},onUpload:function(e){A(W(t),N,!1),function(e){var t=JSON.parse(e.xhr.response);if("self"===d){var a=JSON.parse(sessionStorage.getItem("therapistInfoSK-2021"));a.imageUrl=t.subBody,sessionStorage.setItem("therapistInfoSK-2021",JSON.stringify(a)),T({type:U,payload:a})}if("user"===d){var r=JSON.parse(sessionStorage.getItem("usersSK-2021")),s=r.map((function(e){return e.userId})).indexOf(i),n=r[s];n.imageUrl=t.subBody,r[s]=n,sessionStorage.setItem("usersSK-2021",JSON.stringify(r)),T({type:Ga,payload:r})}l(),o.current.show({severity:t.severity,summary:L[t.severity],detail:t.message,life:4e3,closable:!0})}(e)},onError:function(e){return function(e){var t=JSON.parse(e.xhr.response);if(console.log(t),401!==t.status)if(l(),t){var a=t.severity;o.current.show({severity:a||"error",summary:L[a||"error"],detail:t.message,life:4e3,closable:!0})}else o.current.show({severity:"error",summary:L.error,detail:t.statusText||"error",life:4e3,closable:!0});else T(ue())}(e)},disabled:n}),Object(r.jsx)("small",{id:"profileImageHelp",children:'La imagen se actualiza al presionar "Subir". Se recomienda usar una imagen cuadrada. Tama\xf1o m\xe1ximo: 10 MB.'})]})})]})};Ya.defaultProps={imagePreviewTitle:"Foto de Perfil",disabled:!1,id:0};var za=Ya,Wa=a(60),qa=function(e){var t=e.therapistAction,a=e.usingTherapist,s=e.selectedRole,n=e.setSelectedRole,i=e.setRoleDetails,c=e.roleDetails,l=e.setFieldValue,d=e.isSelf,u=e.showAdminDialog,p=e.setShowAdminDialog,b=e.selectedTherapist,m=e.adminMessageRef,j=e.disabled,h=e.adminButtonDisable,O=e.setAdminButtonDisable,f=function(e){l(Pa.name,"true"),l(wa,[1,2]),O(!0),m.current.replace({severity:"info",summary:"",detail:"Se agregar\xe1 rol de Administrador al guardar Terapeuta.",sticky:!0,closable:!1}),p(!1)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Wa.Dialog,{header:"Rol de Administrador para Terapeuta con ID: "+(b?b.therapistId:0),visible:u,modal:!0,style:{width:"350px"},footer:Object(r.jsxs)("div",{children:[Object(r.jsx)(o.Button,{label:"No",icon:"pi pi-times",onClick:function(e){return p(!1)},className:"p-button-text",type:"button"}),Object(r.jsx)(o.Button,{label:"S\xed",icon:"pi pi-check",onClick:f,type:"button"})]}),onHide:function(){return p(!1)},children:Object(r.jsxs)("div",{className:"confirmation-content",children:[Object(r.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),Object(r.jsxs)("span",{children:["\xbfEst\xe1 seguro que quiere agregar el rol de Administrador a"," ",b&&b.fullName,"?"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"Permisos:"})," dar de alta y modificar terapeutas y puede ver la informaci\xf3n de los mismos y sus usuarios, sin poder modificar los \xfaltimos."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"Notas importantes:"})," este rol no puede ser eliminado por otro administrador, solo agregado."]})]})}),"DETAILS"===t||"UPDATE"===t&&Object(r.jsxs)("div",{className:"p-col-12",children:[Object(r.jsx)("hr",{}),Object(r.jsx)("h6",{children:"Roles"})]}),Object(r.jsx)("div",{className:"p-col-12 p-md-8 p-lg-8",children:Object(r.jsxs)(ye.DataTable,{value:a.roleDtos,selectionMode:"single",selection:s,onSelectionChange:function(e){return n(e.value)},dataKey:"therapistRoleId",onRowSelect:function(e){i(e.data.description)},scrollable:!0,scrollHeight:"25vh",children:[Object(r.jsx)(Ee.Column,{field:"name",header:"Nombre"}),Object(r.jsx)(Ee.Column,{field:"timestamp",header:"Fecha de Asignaci\xf3n"})]})}),Object(r.jsxs)("div",{className:"p-col-12 p-md-4 p-lg-4 no-padding",children:[Object(r.jsx)(ye.DataTable,{children:Object(r.jsx)(Ee.Column,{field:"n",header:"Detalles de Rol"})}),Object(r.jsx)(Ne.ScrollPanel,{style:{width:"96%",height:"25vh"},children:c})]}),"UPDATE"===t&&!d&&!b.isAdmin&&!j&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Agregar rol de Administrador",type:"button",icon:"pi pi-users",className:"p-button p-button-warning",onClick:function(e){return p(!0)},disabled:h})})})]})},Xa=function(e){var t=Object(s.useState)(!1),a=Object(xe.a)(t,2),n=a[0],i=a[1],c=Object(s.useState)(null),o=Object(xe.a)(c,2),l=o[0],u=o[1],p=Object(s.useState)("Seleccione un rol para ver sus detalles."),b=Object(xe.a)(p,2),m=b[0],j=b[1];return Object(r.jsx)(qa,Object(d.a)(Object(d.a)({},e),{},{showAdminDialog:n,setShowAdminDialog:i,selectedRole:l,setSelectedRole:u,roleDetails:m,setRoleDetails:j}))};Xa.defaultProps={isSelf:!1};var Za,Qa=Xa,$a=h.e().shape((Za={},Object(Ie.a)(Za,ca.name,ca.validation),Object(Ie.a)(Za,oa.name,oa.validation),Object(Ie.a)(Za,la.name,la.validation),Object(Ie.a)(Za,da.name,da.validation),Object(Ie.a)(Za,ua.name,ua.validation),Object(Ie.a)(Za,pa.name,pa.validation),Object(Ie.a)(Za,ba.name,ba.validation),Object(Ie.a)(Za,ha.name,ha.validation),Object(Ie.a)(Za,ma.name,ma.validation),Object(Ie.a)(Za,ja.name,ja.validation),Object(Ie.a)(Za,Pa.name,Pa.validation),Za)),er=function(e){var t=e.therapistAction,a=e.usingTherapist,n=e.selectedTherapist,i=e.customModalButtonText,c=e.setShowModal,d=e.toastRef,u=e.therapistInfo,b=e.fromProfile,m=e.sexOptionsUi,h=e.setSelectedTherapist,v=Object(s.useRef)(null),S=Object(s.useRef)(null),y=Object(s.useRef)(null),E=Object(s.useState)(!1),N=Object(xe.a)(E,2),A=N[0],I=N[1],w=Object(s.useState)(!1),D=Object(xe.a)(w,2),C=D[0],F=D[1],k=Object(s.useState)(!1),K=Object(xe.a)(k,2),J=K[0],Y=K[1],z=Object(O.b)(),W=u.therapistId===a.therapistId,q="DETAILS"===t,Z=function(){I(!1),c(!1),setTimeout((function(){!b&&h&&h(null)}),1e3)},$=function(e){e?v.current.show(T):v.current.clear()};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(za,{photoUrl:a.imageUrl,toastRef:d,id:a.therapistId,closeModal:Z,disabled:q,imagePreviewTitle:"Foto de Terapeuta",mode:W?"self":"therapist"}),Object(r.jsx)(p.c,{initialValues:function(){var e;return e={},Object(Ie.a)(e,pa.name,a.email),Object(Ie.a)(e,ca.name,a.firstName),Object(Ie.a)(e,oa.name,a.secondName),Object(Ie.a)(e,la.name,a.paternalSurname),Object(Ie.a)(e,da.name,a.maternalSurname),Object(Ie.a)(e,ba.name,ba.default),Object(Ie.a)(e,ha.name,ha.default),Object(Ie.a)(e,ma.name,ma.default),Object(Ie.a)(e,ja.name,ja.default),Object(Ie.a)(e,ua.name,a.sex),Object(Ie.a)(e,Aa,a.accountState),Object(Ie.a)(e,Pa.name,Pa.default),Object(Ie.a)(e,wa,a.roleDtos.map((function(e){return e.therapistRoleId}))),e}(),validationSchema:$a,onSubmit:function(e,t){I(!0),t.setSubmitting(!0),z(W?function(e,t,a,r,s){return function(){var n=Object(_.a)(R.a.mark((function n(i){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:B}),c={headers:{"Content-Type":"application/json"},withCredentials:!0},n.prev=2,n.next=5,M.a.put(f+x+g+"/"+t,e,c).then((function(e){sessionStorage.setItem("therapistInfoSK-2021",JSON.stringify(e.data.subBody)),i({type:V}),i({type:U,payload:e.data.subBody});var n=sessionStorage.getItem("therapistsSK-2021");if(n){var c=(n=JSON.parse(n)).map((function(e){return e.therapistId})).indexOf(t);n[c]=de(e.data.subBody),sessionStorage.setItem("therapistsSK-2021",JSON.stringify(n)),i({type:G,payload:n})}s(!1),a(),r.current.clear(),r.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})})).catch((function(e){i({type:H}),401!==e.response.status||i(ue())}));case 5:n.next=15;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0,"updateTherapistProfile"),i({type:H}),s(!1),a(),r.current.clear(),r.current.show({severity:"error",summary:L.error,detail:"Error actualizando perfil.",sticky:!0,closable:!0});case 15:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}()}(e,n.therapistId,Z,d,t.setSubmitting):function(e,t,a,r,s){return function(){var n=Object(_.a)(R.a.mark((function n(i){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"},withCredentials:!0},n.prev=1,n.next=4,M.a.put(f+x+g+"/"+t,e,c).then((function(e){var n=JSON.parse(sessionStorage.getItem("therapistsSK-2021")),c=n.map((function(e){return e.therapistId})).indexOf(t),o=n[c],l=[];o.users>0&&(l=Object(P.a)(o.users));var d=de(e.data.subBody);d.users=l,n[c]=d,sessionStorage.setItem("therapistsSK-2021",JSON.stringify(n)),i({type:G,payload:n}),s(!1),a(),r.current.clear(),r.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})})).catch((function(e){if(e.response){if(401===e.response.status)return void i(ue());e.response.data&&(s(!1),a(),r.current.clear(),r.current.show({severity:e.response.data.severity,summary:L[e.response.data.severity],detail:e.response.data.message,life:4e3,closable:!0}))}}));case 4:n.next=13;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0,"updateTherapist"),s(!1),a(),r.current.clear(),r.current.show({severity:"error",summary:L.error,detail:"Error actualizando Terapeuta.",sticky:!0,closable:!0});case 13:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,n.therapistId,Z,d,t.setSubmitting))},isInitialValid:!1,children:function(e){var s=e.values,c=e.isSubmitting,d=e.isValid,u=e.setFieldValue,h=e.touched,O=e.errors;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsxs)("div",{className:"p-col-12",children:[Object(r.jsx)("hr",{}),Object(r.jsx)("h6",{children:"Datos Personales y Credenciales"})]}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:ca.name,labelText:ca.label,placeholder:ca.placeholder,disabled:q})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:oa.name,labelText:oa.label,placeholder:oa.placeholder,optionalField:!0,disabled:q})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:la.name,labelText:la.label,placeholder:la.placeholder,disabled:q})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:da.name,labelText:da.label,placeholder:da.placeholder,disabled:q})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)("label",{htmlFor:ua.name,children:ua.label}),Object(r.jsx)(Le.Dropdown,{name:ua.name,inputId:ua.name,value:s[ua.name],options:m.current,onChange:function(e){u(ua.name,e.target.value)},placeholder:ua.placeholder,disabled:q}),Object(r.jsx)("small",{id:ua.name+"-error",className:"p-invalid",children:h[ua.name]&&O[ua.name]&&O[ua.name]})]})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:pa.name,labelText:pa.label,placeholder:pa.placeholder,disabled:q})}),!q&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"p-col-12 p-lg-3",children:[Object(r.jsxs)("div",{className:"p-field-checkbox ",children:[Object(r.jsx)(l.Checkbox,{name:ba.name,inputId:ba.name,checked:JSON.parse(s[ba.name]),onChange:function(e){u(ba.name,e.checked.toString()),$(e.checked)}}),Object(r.jsx)("label",{htmlFor:ba.name,children:ba.label})]}),Object(r.jsx)("div",{className:"p-field",children:Object(r.jsx)("small",{id:"updatePasswordHelp",children:"Para actualizar la contrase\xf1a se debe confirmar haciendo click en este campo."})})]}),Object(r.jsxs)("div",{className:"p-col-12 p-lg-9",style:{background:JSON.parse(s[ba.name])?"inherit":"#E9ECEF"},children:[W&&Object(r.jsx)(j,{inputName:ha.name,labelText:ha.label,disabled:!JSON.parse(s[ba.name]),type:"password"}),Object(r.jsx)("div",{className:" p-mt-3 p-mb-3 ",children:Object(r.jsx)(be.Messages,{ref:v})}),Object(r.jsx)(j,{inputName:ma.name,labelText:ma.label,disabled:!JSON.parse(s[ba.name]),type:"password"}),Object(r.jsx)(j,{inputName:ja.name,labelText:ja.label,disabled:!JSON.parse(s[ba.name]),type:"password"})]})]}),("UPDATE"===t||"DETAILS"===t)&&!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Qa,{therapistAction:t,usingTherapist:a,setFieldValue:u,isSelf:W,selectedTherapist:n,adminMessageRef:y,disabled:q,adminButtonDisable:C,setAdminButtonDisable:F}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(be.Messages,{ref:y})}),"DETAILS"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"p-col-12",style:{padding:"0px 10px"},children:[Object(r.jsx)("label",{children:Object(r.jsx)("strong",{children:"Fecha de afilicaci\xf3n: "})}),Object(r.jsx)("span",{children:n&&" "+Q(X(n.addedDate))})]}),Object(r.jsxs)("div",{className:"p-col-12",style:{padding:"0px 10px"},children:[Object(r.jsx)("label",{children:Object(r.jsxs)("strong",{children:["Fecha de creaci\xf3n de cuenta:"," "]})}),Object(r.jsx)("span",{children:n&&" "+Q(X(n.createdDate))})]})]})]}),"UPDATE"===t&&!W&&!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(o.Button,{label:"Desactivar Terapeuta",icon:"pi pi-lock",className:"p-button p-button-danger",type:"button",disabled:J,onClick:function(e){u(Aa,"Desactivada"),Y(!0),S.current.show({severity:"info",summary:"",detail:"Se desactivar\xe1 la cuenta al guardar Terapeuta.",closable:!1,sticky:!0})}})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(be.Messages,{ref:S})})]}),!q&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Restaurar Valores",icon:"pi pi-replay",className:"p-button p-button-secondary",type:"reset",onClick:function(e){$(!1),S.current.clear(),y.current.clear(),F(!1),Y(!1)}})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:i,icon:"pi pi-check",className:"p-button",type:"submit",disabled:!d||c||A})}),A&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})]})})}})]})};er.defaultProps={disabled:!1,fromProfile:!1};var tr=er,ar=a(48),rr=function(e){var t=e.therapistInfo,a=Object(s.useRef)(z(["Hombre","Mujer"])),n=Object(s.useRef)(null),i=Object(O.b)(),c=t,l=Object(s.useState)(!1),d=Object(xe.a)(l,2),u=d[0],p=d[1],b=Object(s.useState)(null),m=Object(xe.a)(b,2),j=m[0],h=m[1],f=Object(s.useState)("Seleccione un rol para ver sus detalles."),x=Object(xe.a)(f,2),g=x[0],v=x[1],S=Object(s.useState)(!1),y=Object(xe.a)(S,2),E=y[0],N=y[1];return Object(r.jsxs)("div",{id:"AccountDetailsDiv",children:[Object(r.jsx)(ar.Toast,{ref:n,position:"top-right",baseZIndex:1e4}),Object(r.jsxs)("div",{style:{marginBottom:"5vh"},children:[Object(r.jsx)("h1",{children:"Cuenta"}),Object(r.jsx)(ge.a,{src:W(c.imageUrl),style:{marginBottom:"25px"},className:"p-shadow-2 rounded-image rounded-image-big"}),Object(r.jsx)("h4",{style:{marginBottom:"10px"},children:c.fullName}),Object(r.jsxs)("h5",{style:{marginBottom:"10px",fontStyle:"italic"},children:["Terapeuta (ID: ",c.therapistId,")"]}),Object(r.jsx)("p",{style:{marginBottom:"10px"},children:c.email}),Object(r.jsxs)("p",{style:{marginBottom:"10px"},children:["Fecha de afilicaci\xf3n: ",Object(r.jsx)("br",{}),Q(X(c.addedDate))]}),Object(r.jsxs)("p",{style:{marginBottom:"10px"},children:["Fecha de creaci\xf3n de cuenta: ",Object(r.jsx)("br",{}),Q(X(c.createdDate))]})]}),Object(r.jsx)(o.Button,{label:"Modificar Cuenta y Roles",icon:"pi pi-id-card",className:"p-button-raised p-button-info",style:{marginBottom:"10px",width:"100%"},onClick:function(){p(!0)}}),Object(r.jsx)(o.Button,{label:"Cerrar Sesi\xf3n",icon:"pi pi-sign-out",className:"p-button-raised p-button-danger",style:{width:"100%"},onClick:function(){i(ue()),N(!0)},disabled:E}),Object(r.jsx)(Ae,{title:"Modificar Cuenta y Roles",showModalState:u,closeButtonFunction:function(){p(!1)},children:Object(r.jsxs)(ve.a,{defaultActiveKey:"update",id:"therapistModalTabs",children:[Object(r.jsx)(Se.a,{eventKey:"update",title:"Modificar",className:"scrollable-tab",children:Object(r.jsx)(tr,{therapistAction:"UPDATE",usingTherapist:c,selectedTherapist:c,customModalButtonText:"Guardar Cambios",setShowModal:p,toastRef:n,therapistInfo:c,fromProfile:!0,sexOptionsUi:a})}),Object(r.jsx)(Se.a,{eventKey:"roles",title:"Roles",className:"scrollable-tab",style:{overflowX:"hidden"},children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(r.jsx)("div",{className:"p-col-12 p-md-8 p-lg-8",children:Object(r.jsxs)(ye.DataTable,{value:c.roleDtos,selectionMode:"single",selection:j,onSelectionChange:function(e){return h(e.value)},dataKey:"therapistRoleId",onRowSelect:function(e){v(e.data.description)},scrollable:!0,scrollHeight:"50vh",children:[Object(r.jsx)(Ee.Column,{field:"name",header:"Nombre"}),Object(r.jsx)(Ee.Column,{field:"timestamp",header:"Fecha de Asignaci\xf3n"})]})}),Object(r.jsxs)("div",{className:"p-col-12 p-md-4 p-lg-4 no-padding",children:[Object(r.jsx)(ye.DataTable,{children:Object(r.jsx)(Ee.Column,{field:"n",header:"Detalles de Rol"})}),Object(r.jsx)(Ne.ScrollPanel,{style:{width:"96%",height:"50vh"},children:g})]})]})})]})})]})},sr=a(177),nr=a(399),ir=a(188),cr=a(178),or=a(122),lr=function(){var e=Object(s.useState)({visible:!1}),t=Object(xe.a)(e,2),a=t[0],n=t[1],i=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo,c=Object(s.useState)(""),o=Object(xe.a)(c,2),l=o[0],d=(o[1],Object(s.useState)([])),u=Object(xe.a)(d,2),p=(u[0],u[1]),b=Object(s.useState)(!0),m=Object(xe.a)(b,2),j=(m[0],m[1],"Seleccionar usuario para trabajar..."),h=Object(s.useState)([]),f=Object(xe.a)(h,2),x=(f[0],f[1],Object(s.useState)(j)),g=Object(xe.a)(x,2);g[0],g[1];Object(s.useEffect)((function(){p([{userId:1,fullName:"Josu\xe9 Israel Morales Ornelas",img:"http://placehold.jp/180x180.png"},{userId:2,fullName:"Josu\xe9 Israel Baca Hernandez",img:"http://placehold.jp/180x180.png"},{userId:3,fullName:"Diego Morales Manzanera",img:"http://placehold.jp/180x180.png"},{userId:4,fullName:"Isaias Morales Ornelas",img:"http://placehold.jp/180x180.png"},{userId:5,fullName:"\xe1\xe9 \xed\xf3 \xfc\xfa\xfa Morales Ornelas",img:"http://placehold.jp/180x180.png"}].filter((function(e){return e.userId.toString()===l||Y(e.fullName.toLowerCase()).indexOf(Y(l.toLowerCase()))>=0})))}),[l]);return Object(r.jsxs)("header",{children:[Object(r.jsx)(nr.a,{expand:"lg",collapseOnSelect:!0,children:Object(r.jsxs)(je.a,{children:[Object(r.jsx)(sr.LinkContainer,{to:"/",children:Object(r.jsx)(nr.a.Brand,{children:Object(r.jsx)("img",{alt:"Logo",src:E,style:{height:"50px"}})})}),Object(r.jsx)(ir.a,{className:"ml-auto justify-content-end",children:Object(r.jsxs)(ir.a.Link,{onClick:function(e){return n({visible:!0})},children:[Object(r.jsx)("i",{className:"far fa-user"})," Cuenta"]})})]})}),Object(r.jsx)(cr.Sidebar,{visible:a.visible,position:"right",onHide:function(){return n({visible:!1})},closeOnEscape:!1,children:Object(r.jsx)(rr,{therapistInfo:i})})]})},dr=a(179),ur=function(e){var t=e.inputName,a=e.labelText,s=e.helperText,n=e.optionalField,i=e.disabled,c=e.type,o=Object(u.a)(e,["inputName","labelText","helperText","optionalField","disabled","type"]);return Object(r.jsx)(p.a,{name:t,children:function(e){var l=e.field,u=e.form;return Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsxs)("label",{htmlFor:t,children:[a,Object(r.jsx)("small",{children:n&&" (opcional)"})]}),Object(r.jsx)(dr.InputTextarea,Object(d.a)(Object(d.a)(Object(d.a)({rows:5,cols:30,id:t,className:"p-mr-2 p-d-inline "+(u.touched[t]&&u.errors[t]&&"p-invalid")},l),o),{},{disabled:i,type:c,"aria-describedby":t+"-helper"})),Object(r.jsx)("small",{id:t+"-helper",children:s}),Object(r.jsx)("small",{id:t+"-error",className:"p-invalid",children:u.touched[t]&&u.errors[t]&&u.errors[t]})]})}})};ur.defaultProps={optionalField:!1,disabled:!1,helperText:"",type:"text"};var pr,br=ur,mr="PROBLEM_REQUEST",jr="PROBLEM_SUCCESS",hr="PROBLEM_FAIL",Or=function(e){var t,a,n=e.screenName,i=Object(s.useState)(!1),c=Object(xe.a)(i,2),l=c[0],d=c[1],u=Object(s.useRef)(null),b=Object(O.b)(),m=Object(O.c)((function(e){return e.problem})).loading,g=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo,v=function(){d(!1)};return Object(r.jsxs)("footer",{children:[Object(r.jsx)(ar.Toast,{ref:u,position:"top-right",baseZIndex:1e4}),Object(r.jsx)(je.a,{children:Object(r.jsxs)(he.a,{children:[Object(r.jsx)(Oe.a,{}),Object(r.jsx)(Oe.a,{className:"p-text-center",children:Object(r.jsxs)("p",{style:{marginTop:"13px"},children:["\xa9 SuperaKids 2020 (Versi\xf3n ","1.0.0",")"]})}),Object(r.jsx)(Oe.a,{className:"text-right p-p-2",children:Object(r.jsx)(o.Button,{label:"Reportar un Problema",className:"p-button-link p-mx-auto",onClick:function(e){d(!0)},icon:"pi pi-exclamation-circle",iconPos:"right",style:{color:"white"},tooltip:"Reporte un problema en la pantalla actual: "+n,tooltipOptions:{position:"top"}})})]})}),Object(r.jsx)(Ae,{title:"Reportar un Problema",showModalState:l,closeButtonFunction:function(){d(!1)},children:Object(r.jsx)(p.c,{initialValues:(t={therapistId:g.therapistId},Object(Ie.a)(t,_a.name,_a.default),Object(Ie.a)(t,Da.name,n),Object(Ie.a)(t,Ma.name,Ma.default),t),validationSchema:h.e().shape((a={},Object(Ie.a)(a,_a.name,_a.validation),Object(Ie.a)(a,Da.name,Da.validation),Object(Ie.a)(a,Ma.name,Ma.validation),a)),onSubmit:function(e,t){t.setSubmitting(!0),b(function(e,t,a){return function(){var r=Object(_.a)(R.a.mark((function r(s){var n;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:mr}),n={headers:{"Content-Type":"application/json"},withCredentials:!0},r.prev=2,r.next=5,M.a.post(f+x+"/problems",e,n).then((function(e){s({type:jr}),t(),setTimeout((function(){a.current.clear(),a.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})}),500)})).catch((function(e){s({type:hr}),401!==e.response.status||s(ue())}));case 5:r.next=13;break;case 7:r.prev=7,r.t0=r.catch(2),console.log(r.t0,"problem"),s({type:hr}),t(),setTimeout((function(){a.current.clear(),a.current.show({severity:"error",summary:L.error,detail:"Error registrando problema.",life:4e3,closable:!0})}),500);case 13:case"end":return r.stop()}}),r,null,[[2,7]])})));return function(e){return r.apply(this,arguments)}}()}(e,v,u)),t.setSubmitting(!1)},isInitialValid:!1,children:function(e){var t=e.isSubmitting,a=e.isValid;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%",margin:"0px"},children:[Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)("h6",{children:"A continuaci\xf3n agregue los detalles del problema:"})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:_a.name,labelText:_a.label,placeholder:_a.placeholder})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:Da.name,labelText:Da.label,placeholder:Da.placeholder,helperText:"Este campo es agregado autom\xe1ticamente",disabled:!0})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(br,{inputName:Ma.name,labelText:Ma.label,placeholder:Ma.placeholder})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Restaurar Valores",icon:"pi pi-replay",className:"p-button p-button-secondary",type:"reset"})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Enviar",icon:"pi pi-check",className:"p-button",type:"submit",disabled:!a||t||m})}),Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:m&&Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})})}})})]})},fr=a(57),xr=function(e){var t=e.history,a=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo;if(!a)return t.push("/login"),Object(r.jsx)(r.Fragment,{});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(lr,{}),Object(r.jsx)("main",{className:"py-4",children:Object(r.jsxs)(je.a,{children:[Object(r.jsx)("h1",{style:{color:"white"},children:"Dashboard"}),Object(r.jsx)(he.a,{children:[{id:1,title:"Usuarios",path:"/users",img:"https://placehold.jp/286x180.png",subText:!1,adminOnly:!1},{id:2,title:"Administraci\xf3n de Terapeutas",path:"/administration",img:"https://placehold.jp/286x180.png",subText:!1,adminOnly:!0}].map((function(e,t){var s=Object(r.jsx)(Oe.a,{xs:6,sm:6,md:6,lg:3,xl:3,id:e.id,className:"d-flex",children:Object(r.jsxs)(fe.a,{className:"my-3 p-3 rounded flex-fill",children:[Object(r.jsx)(fr.Link,{to:e.path,children:Object(r.jsx)(fe.a.Img,{src:e.img,variant:"top"})}),Object(r.jsx)(fe.a.Body,{children:Object(r.jsx)(fr.Link,{to:e.path,children:Object(r.jsx)(fe.a.Title,{children:e.title})})})]})},t);return e.adminOnly?a.isAdmin?s:Object(r.jsx)(r.Fragment,{}):s}))})]})}),Object(r.jsx)(Or,{screenName:"Dashboard"})]})},gr=(a(180),a(104)),vr=a(62),Sr=function(e,t){return function(){var a=Object(_.a)(R.a.mark((function a(r){var s;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:Ka}),s={headers:{"Content-Type":"application/json"},withCredentials:!0,params:{therapistId:e}},a.prev=2,a.next=5,M.a.get(f+x+v,s).then((function(e){var t=ie(e.data.subBody);sessionStorage.setItem("usersSK-2021",JSON.stringify(t)),r({type:Ga,payload:t})})).catch((function(e){r({type:Ja}),401!==e.response.status||r(ue())}));case 5:a.next=13;break;case 7:a.prev=7,a.t0=a.catch(2),console.log(a.t0,"getUsersList"),r({type:Ja}),t.current.clear(),t.current.show({severity:"error",summary:L.error,detail:"Error obteniendo usuarios.",sticky:!0,closable:!0});case 13:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(e){return a.apply(this,arguments)}}()},yr=h.e().shape((pr={},Object(Ie.a)(pr,ca.name,ca.validation),Object(Ie.a)(pr,oa.name,oa.validation),Object(Ie.a)(pr,la.name,la.validation),Object(Ie.a)(pr,da.name,da.validation),Object(Ie.a)(pr,ua.name,ua.validation),Object(Ie.a)(pr,Ua.name,Ua.validation),Object(Ie.a)(pr,Ca.name,Ca.validation),pr)),Er=function(e){var t=e.userAction,a=e.usingUser,n=e.selectedUser,i=e.educationOptionsUi,c=e.customModalButtonText,l=e.sexOptionsUi,d=e.setShowModal,u=e.toastRef,b=e.setSelectedUser,m=Object(s.useState)(!1),h=Object(xe.a)(m,2),g=h[0],S=h[1],y=Object(O.b)(),E=function(){S(!1),d(!1),setTimeout((function(){b(null)}),1e3)},N="DETAILS"===t;return Object(r.jsxs)(r.Fragment,{children:[("UPDATE"===t||"DETAILS"===t)&&Object(r.jsx)(za,{photoUrl:n?n.imageUrl:null,imagePreviewTitle:"Foto de Usuario",disabled:N,id:n?n.userId:0,toastRef:u,closeModal:E,mode:"user"}),Object(r.jsx)(p.c,{initialValues:a,validationSchema:yr,onSubmit:function(e,a){S(!0),a.setSubmitting(!0),e.birthday=Z(e.birthday),"CREATE"===t&&y(function(e,t,a,r){return function(){var s=Object(_.a)(R.a.mark((function s(n){var i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={headers:{"Content-Type":"application/json"},withCredentials:!0},s.prev=1,s.next=4,M.a.post(f+x+v,e,i).then((function(e){var s=ce(e.data.subBody),i=JSON.parse(sessionStorage.getItem("usersSK-2021"));i.push(s),sessionStorage.setItem("usersSK-2021",JSON.stringify(i)),n({type:Ga,payload:i}),r(!1),t(),a.current.clear(),a.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})})).catch((function(e){401!==e.response.status||n(ue())}));case 4:s.next=13;break;case 6:s.prev=6,s.t0=s.catch(1),console.log(s.t0,"createUser"),r(!1),t(),a.current.clear(),a.current.show({severity:"error",summary:L.error,detail:"Error creando usuario.",sticky:!0,closable:!0});case 13:case"end":return s.stop()}}),s,null,[[1,6]])})));return function(e){return s.apply(this,arguments)}}()}(e,E,u,a.setSubmitting)),"UPDATE"===t&&y(function(e,t,a,r,s){return function(){var n=Object(_.a)(R.a.mark((function n(i){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"},withCredentials:!0},n.prev=1,n.next=4,M.a.put(f+x+v+"/"+e,t,c).then((function(t){var n=ce(t.data.subBody),c=JSON.parse(sessionStorage.getItem("usersSK-2021")),o=c.map((function(e){return e.userId})).indexOf(e);c[o]=n,sessionStorage.setItem("usersSK-2021",JSON.stringify(c)),i({type:Ga,payload:c}),s(!1),a(),r.current.clear(),r.current.show({severity:t.data.severity,summary:L[t.data.severity],detail:t.data.message,life:4e3,closable:!0})})).catch((function(e){401!==e.response.status||i(ue())}));case 4:n.next=13;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0,"updateUser"),s(!1),a(),r.current.clear(),r.current.show({severity:"error",summary:L.error,detail:"Error actualizando usuario.",sticky:!0,closable:!0});case 13:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()}(n.userId,e,E,u,a.setSubmitting))},isInitialValid:!1,children:function(e){var a=e.values,s=e.isSubmitting,d=e.isValid,u=e.setFieldValue,b=e.touched,m=e.errors;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsxs)("div",{className:"p-col-12",children:[Object(r.jsx)("hr",{}),Object(r.jsx)("h6",{children:"Datos Personales"})]}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:ca.name,labelText:ca.label,placeholder:ca.placeholder,disabled:N})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:oa.name,labelText:oa.label,placeholder:oa.placeholder,optionalField:!0,disabled:N})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:la.name,labelText:la.label,placeholder:la.placeholder,disabled:N})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:da.name,labelText:da.label,placeholder:da.placeholder,disabled:N})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)("label",{htmlFor:ua.name,children:ua.label}),Object(r.jsx)(Le.Dropdown,{name:ua.name,inputId:ua.name,value:a[ua.name],options:l.current,onChange:function(e){u(ua.name,e.target.value)},placeholder:ua.placeholder,disabled:N}),Object(r.jsx)("small",{id:ua.name+"-error",className:"p-invalid",children:b[ua.name]&&m[ua.name]&&m[ua.name]})]})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)("label",{htmlFor:Ua.name,children:Ua.label}),Object(r.jsx)(Le.Dropdown,{name:Ua.name,inputId:Ua.name,value:a[Ua.name],options:i.current,onChange:function(e){u(Ua.name,e.target.value)},placeholder:Ua.placeholder,disabled:N}),Object(r.jsx)("small",{id:Ua.name+"-error",className:"p-invalid",children:b[Ua.name]&&m[Ua.name]&&m[Ua.name]})]})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)("label",{htmlFor:Ca.name,children:Ca.label}),Object(r.jsx)(vr.Calendar,{id:Ca.name,name:Ca.name,value:a[Ca.name],onChange:function(e){u(Ca.name,e.value)},locale:A,showIcon:!0,dateFormat:"dd/mm/yy",monthNavigator:!0,yearNavigator:!0,yearRange:ne(),placeholder:Ca.placeholder,disabled:N}),Object(r.jsx)("small",{id:Ca.name+"-helper",children:"Formato: dd/mm/aaaa"}),Object(r.jsx)("small",{id:Ca.name+"-error",className:"p-invalid",children:b[Ca.name]&&m[Ca.name]&&m[Ca.name]})]})}),("UPDATE"===t||"DETAILS"===t)&&Object(r.jsxs)("div",{className:"p-col-12",style:{padding:"0px 10px"},children:[Object(r.jsx)("label",{children:"Fecha de creaci\xf3n: "}),Object(r.jsx)("span",{children:n&&" "+Q(X(n.addedDate))})]}),!N&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Restaurar Valores",icon:"pi pi-replay",className:"p-button p-button-secondary",type:"reset"})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:c,icon:"pi pi-check",className:"p-button",type:"submit",disabled:!d||s||g})}),Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:g&&Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})]})})}})]})},Nr=a(181),Tr=a(182),Ar=a.n(Tr),Ir=a(398),Lr=function(e){var t=e.usingDatesAndNotes,a=e.twoYearRangeRef,n=e.selectedUser,i=e.tomorrowDateRef,c=e.todayDateRef,l=e.presentYearRef,d=e.nextYearRef,u=e.customModalButtonText,b=e.userAction,m=e.toastRef,j=e.setSelectedUser,h=e.setUsingDatesAndNotes,g=e.therapistId,S=e.setSelectedTherapist,y=e.fromScreen,E=Object(s.useState)(!1),N=Object(xe.a)(E,2),T=N[0],P=N[1],w=Object(O.b)(),D="DETAILS"===b;return Object(r.jsx)(p.c,{initialValues:t,onSubmit:function(e,t){P(!0),t.setSubmitting(!0);var a={nextEvaluationReport:"",nextFollowup:"",notes:""};a.nextEvaluationReport=Z(e.nextEvaluationReport),a.nextFollowup=Z(e.nextFollowup);var r=e.notes.replaceAll('"',"'");a.notes=JSON.stringify({contents:r}),w(function(e,t,a,r,s,n,i,c,o,l){return function(){var d=Object(_.a)(R.a.mark((function d(u){var p;return R.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return p={headers:{"Content-Type":"application/json"},withCredentials:!0},d.prev=1,d.next=4,M.a.patch(f+x+v+"/"+e,t,p).then((function(t){var d,p=ce(t.data.subBody);if("users"===l){var b=JSON.parse(sessionStorage.getItem("usersSK-2021")),m=b.map((function(e){return e.userId})).indexOf(e);b[m]=p,sessionStorage.setItem("usersSK-2021",JSON.stringify(b)),u({type:Ga,payload:b})}if("therapists"===l){var j=JSON.parse(sessionStorage.getItem("therapistsSK-2021")),h=j.map((function(e){return e.therapistId})).indexOf(c),O=j[h],f=O.users.map((function(e){return e.userId})).indexOf(e);O.users[f]=p,j[h]=O,o(O),sessionStorage.setItem("therapistsSK-2021",JSON.stringify(j)),u({type:G,payload:j})}n(p),i((d={},Object(Ie.a)(d,Oa,p.nextFollowupDate?new Date(p.nextFollowupDate):null),Object(Ie.a)(d,va,p.nextEvaluationReportDate?new Date(p.nextEvaluationReportDate):null),Object(Ie.a)(d,Fa,p.notesContents),d)),s(!1),r(!1),a.current.clear(),a.current.show({severity:t.data.severity,summary:L[t.data.severity],detail:t.data.message,life:4e3,closable:!0})})).catch((function(e){e.response&&401===e.response.status&&u(ue())}));case 4:d.next=13;break;case 6:d.prev=6,d.t0=d.catch(1),console.log(d.t0,"patchUser"),s(!1),r(!1),a.current.clear(),a.current.show({severity:"error",summary:L.error,detail:"Error actualizando notas y fechas de usuario.",sticky:!0,closable:!0});case 13:case"end":return d.stop()}}),d,null,[[1,6]])})));return function(e){return d.apply(this,arguments)}}()}(n.userId,a,m,t.setSubmitting,P,j,h,g,S,y))},children:function(e){var t=e.values,s=e.isSubmitting,b=(e.isValid,e.setFieldValue);e.touched,e.errors,e.setSubmitting;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-field p-grid p-mt-3",children:[Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)("div",{className:" p-mt-3 p-mb-3 ",children:Object(r.jsx)(Nr.Message,{severity:"info",text:"Al seleccionar una fecha, se calcular\xe1 el tiempo restante y el sistema recalcular\xe1 autom\xe1ticamente la siguiente entrevista de seguimiento en 2 o 6 meses (respectivamente) una vez pasada esta."})})}),Object(r.jsxs)("div",{className:"p-col-12 p-lg-6 p-field",children:[Object(r.jsxs)("label",{htmlFor:Oa,children:[xa," ",Object(r.jsx)("small",{children:" (opcional)"})]}),Object(r.jsx)(vr.Calendar,{id:Oa,name:Oa,value:t[Oa],onChange:function(e){b(Oa,e.value)},locale:A,showIcon:!0,dateFormat:I,monthNavigator:!0,yearNavigator:!0,yearRange:a.current,placeholder:ga,style:{width:"100%"},readOnlyInput:!0,minDate:l.current,maxDate:d.current,type:"search",showButtonBar:!0,touchUI:!0,disabled:D}),Object(r.jsx)("small",{children:"Formato: dd/mm/aaaa. Cada 2 meses."})]}),Object(r.jsxs)("div",{className:"p-col-12 p-lg-6 p-field",style:{padding:"0px 10px"},children:[Object(r.jsx)("label",{children:"Tiempo restante:"}),Object(r.jsx)("span",{className:"p-pt-2",style:{display:"flex",alignItems:"center"},children:n&&(t[Oa]?i.current.getTime()===t[Oa].getTime()?"Ma\xf1ana":t[Oa].getTime()<=c.current.getTime()?(t[Oa].getTime()===c.current.getTime()?"Hoy":"Fecha pasada")+", siguiente fecha: "+Z(te(t[Oa].getTime(),2))+" (en 2 meses)":Object(r.jsx)(Ir.a,{date:t[Oa],locale:"es-MX",future:!0}):"Sin fecha seleccionada")})]}),Object(r.jsxs)("div",{className:"p-col-12 p-lg-6 p-field",children:[Object(r.jsxs)("label",{htmlFor:va,children:[ya," ",Object(r.jsx)("small",{children:" (opcional)"})]}),Object(r.jsx)(vr.Calendar,{id:va,name:va,value:t[va],onChange:function(e){b(va,e.value)},locale:A,showIcon:!0,touchUI:!0,dateFormat:I,monthNavigator:!0,yearNavigator:!0,yearRange:a.current,placeholder:Ea,style:{width:"100%"},readOnlyInput:!0,minDate:l.current,maxDate:d.current,showButtonBar:!0,disabled:D}),Object(r.jsx)("small",{children:"Formato: dd/mm/aaaa. Cada 6 meses."})]}),Object(r.jsxs)("div",{className:"p-col-12 p-lg-6 p-field",style:{padding:"0px 10px"},children:[Object(r.jsx)("label",{children:"Tiempo restante:"}),Object(r.jsx)("span",{className:"p-pt-2",style:{display:"flex",alignItems:"center"},children:n&&(t[va]?i.current.getTime()===t[va].getTime()?"Ma\xf1ana":t[va].getTime()<=c.current.getTime()?(t[va].getTime()===c.current.getTime()?"Hoy":"Fecha pasada")+", siguiente fecha: "+Z(te(t[va].getTime(),6))+" (en 6 meses)":Object(r.jsx)(Ir.a,{date:t[va],locale:"es-MX",future:!0}):"Sin fecha seleccionada")})]}),Object(r.jsxs)("div",{className:"p-col-12 p-field",children:[Object(r.jsxs)("label",{htmlFor:Fa,children:[Ba," ",Object(r.jsx)("small",{children:" (opcional)"})]}),Object(r.jsx)(Ar.a,{theme:"snow",placeholder:Va,modules:{toolbar:[[{header:[1,2,3,!1]}],[{font:[]}],[{align:[]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","blockquote"],["clean"]]},value:t[Fa],onChange:function(e){b(Fa,e)},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link"],readOnly:D})]}),!D&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:u,icon:"pi pi-check",className:"p-button",type:"submit",disabled:s,style:{width:"100%"}})}),T&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})]})})}})};Lr.defaultProps={therapistId:0,setSelectedTherapist:null,fromScreen:"users"};var Pr,wr,Rr=Lr,_r=function(e){var t,a,n=e.history,i=Object(s.useRef)(null),c=Object(s.useRef)(null),l=Object(s.useRef)(z(["1er A\xf1o de Preescolar","2do A\xf1o de Preescolar","3er A\xf1o de Preescolar","1er A\xf1o de Primaria","2do A\xf1o de Primaria","3er A\xf1o de Primaria","4to A\xf1o de Primaria","5to A\xf1o de Primaria","6to A\xf1o de Primaria","1er A\xf1o de Secundaria","2do A\xf1o de Secundaria","3rer A\xf1o de Secundaria","1er A\xf1o de Preparatoria","2do A\xf1o de Preparatoria","3er A\xf1o de Preparatoria","4to A\xf1o de Preparatoria","1er A\xf1o de Universidad","2do A\xf1o de Universidad","3er A\xf1o de Universidad","4to A\xf1o de Universidad","5to A\xf1o de Universidad en adelante","Maestr\xeda","Doctorado","Sin estudios","Profesionista"])),u=Object(s.useRef)(z(["Hombre","Mujer"])),p=(Object(s.useRef)(ne()),Object(s.useRef)(se())),m=Object(s.useRef)(ae()),j=Object(s.useRef)(re()),h=Object(s.useRef)($()),g=Object(s.useRef)(ee(h.current.getTime())),S=Object(O.b)(),y=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo,E=Object(O.c)((function(e){return e.users})),N=E.loadingUsers,T=E.users;Object(s.useEffect)((function(){y&&0===T.length&&S(Sr(y.therapistId,i))}),[]);var A=(t={},Object(Ie.a)(t,ca.name,ca.default),Object(Ie.a)(t,oa.name,oa.default),Object(Ie.a)(t,la.name,la.default),Object(Ie.a)(t,da.name,da.default),Object(Ie.a)(t,ua.name,ua.default),Object(Ie.a)(t,Ua.name,Ua.default),Object(Ie.a)(t,Ca.name,Ca.default),t),I=(a={},Object(Ie.a)(a,Oa,fa),Object(Ie.a)(a,va,Sa),Object(Ie.a)(a,Fa,ka),a),w=Object(s.useState)(""),D=Object(xe.a)(w,2),C=D[0],U=D[1],F=Object(s.useState)(""),k=Object(xe.a)(F,2),B=k[0],V=k[1],H=Object(s.useState)(""),K=Object(xe.a)(H,2),G=K[0],J=K[1],Y=Object(s.useState)(A),X=Object(xe.a)(Y,2),Z=X[0],Q=X[1],te=Object(s.useState)(I),ie=Object(xe.a)(te,2),ce=ie[0],oe=ie[1],le=Object(s.useState)(!1),de=Object(xe.a)(le,2),pe=de[0],be=de[1],me=Object(s.useState)(!1),Oe=Object(xe.a)(me,2),fe=Oe[0],Ne=Oe[1],Te=Object(s.useState)(null),Le=Object(xe.a)(Te,2),we=Le[0],Re=Le[1],_e=Object(s.useState)(null),De=Object(xe.a)(_e,2),Me=De[0],Ce=De[1],Ue=Object(s.useState)(null),Fe=Object(xe.a)(Ue,2),ke=(Fe[0],Fe[1],Object(s.useState)(null)),Be=Object(xe.a)(ke,2),Ve=(Be[0],Be[1],Object(s.useState)("")),He=Object(xe.a)(Ve,2),Ke=(He[0],He[1],Object(s.useState)([0,100])),Ge=Object(xe.a)(Ke,2),Je=(Ge[0],Ge[1],Object(s.useState)(null)),Ye=Object(xe.a)(Je,2),ze=(Ye[0],Ye[1],Object(s.useState)(!1)),We=Object(xe.a)(ze,2),qe=We[0],Xe=We[1];if(!y)return n.push("/login"),Object(r.jsx)(r.Fragment,{});var Ze=function(){Xe(!1),Ne(!1),setTimeout((function(){Ce(null)}),1e3)},Qe=function(){Xe(!0),S(function(e,t,a){return function(){var r=Object(_.a)(R.a.mark((function r(s){var n;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{"Content-Type":"application/json"},withCredentials:!0},r.prev=1,r.next=4,M.a.delete(f+x+v+"/"+e,n).then((function(r){var n=JSON.parse(sessionStorage.getItem("usersSK-2021")),i=n.map((function(e){return e.userId})).indexOf(e);n.splice(i,1),sessionStorage.setItem("usersSK-2021",JSON.stringify(n)),s({type:Ga,payload:n}),t(),a.current.clear(),a.current.show({severity:r.data.severity,summary:L[r.data.severity],detail:r.data.message,life:4e3,closable:!0})})).catch((function(e){401!==e.response.status||s(ue())}));case 4:r.next=12;break;case 6:r.prev=6,r.t0=r.catch(1),console.log(r.t0,"deleteUser"),t(),a.current.clear(),a.current.show({severity:"error",summary:L.error,detail:"Error eliminando usuario.",sticky:!0,closable:!0});case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}()}(Me.userId,Ze,i))},$e=function(e,t,a,s){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"p-column-title",children:t}),s&&Object(r.jsx)(ge.a,{src:W(e.imageUrl),style:{margin:"5px 10px"},className:"p-shadow-2 rounded-image rounded-image-small"}),e[a]]})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(lr,{}),Object(r.jsx)(ar.Toast,{ref:i,position:"top-right",baseZIndex:1e4}),Object(r.jsxs)("main",{className:"py-4",children:[Object(r.jsxs)(je.a,{children:[Object(r.jsx)("h1",{style:{color:"white"},children:"Usuarios"}),Object(r.jsx)("div",{id:"dashboardA",children:Object(r.jsxs)("a",{href:"/",children:[Object(r.jsx)("i",{className:"pi pi-arrow-left"})," Regresar a Dashboard"]})}),Object(r.jsx)(he.a,{children:Object(r.jsxs)("div",{className:"datatable-doc-demo",children:[Object(r.jsx)(gr.Menubar,{model:[{label:"Nuevo",icon:"pi pi-plus",command:function(){U("Nuevo Usuario"),V("Crear"),J("CREATE"),Q(A),be(!0)}},{label:"Editar",icon:"pi pi-pencil",command:function(){var e;U("Editar Usuario"),V("Guardar"),J("UPDATE"),Q(Object(d.a)(Object(d.a)({},Me),{},{birthday:q(Me.birthday)})),oe((e={},Object(Ie.a)(e,Oa,Me.nextFollowupDate?new Date(Me.nextFollowupDate):null),Object(Ie.a)(e,va,Me.nextEvaluationReportDate?new Date(Me.nextEvaluationReportDate):null),Object(Ie.a)(e,Fa,Me.notesContents),e)),be(!0)},disabled:null==Me},{label:"Eliminar",icon:"pi pi-trash",command:function(){Ne(!0)},disabled:null==Me},{label:"Recargar",icon:"pi pi-replay",command:function(){Ce(null),S(Sr(y.therapistId,i))},disabled:N}],end:Object(r.jsxs)("span",{className:"p-input-icon-left",children:[Object(r.jsx)("i",{className:"pi pi-search"}),Object(r.jsx)(b.InputText,{type:"search",onInput:function(e){return Re(e.target.value)},placeholder:"B\xfasqueda"})]})}),Object(r.jsxs)(ye.DataTable,{ref:c,value:T,className:"p-datatable-customers",dataKey:"userId",rowHover:!0,globalFilter:we,selection:Me,onSelectionChange:function(e){return Ce(e.value)},onRowDoubleClick:function(e){return function(e){null!=Me?Me.userId!==e.data.userId?Ce(e.data):Ce(null):Ce(e.data)}(e)},paginator:!0,rows:10,emptyMessage:"Sin usuarios",currentPageReportTemplate:"Mostrando usuarios de {first} a {last} de un total de {totalRecords}",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],loading:N,loadingIcon:"pi pi-spinner",style:{width:"100%",minWidth:"100%"},children:[Object(r.jsx)(Ee.Column,{selectionMode:"single",style:{width:"3em"}}),Object(r.jsx)(Ee.Column,{field:$t,header:ea,body:function(e){return $e(e,ea,$t,!0)},sortable:!0,style:{width:"300px"}}),Object(r.jsx)(Ee.Column,{field:Oa,header:xa,body:function(e){return $e(e,xa,Oa,!1)},sortable:!0,sortFunction:function(e){var t=Object(P.a)(c.current.props.value).sort((function(e,t){return t.nextFollowupDate-e.nextFollowupDate}));return 1===e.order&&t.reverse(),t}}),Object(r.jsx)(Ee.Column,{field:va,header:ya,body:function(e){return $e(e,ya,va,!1)},sortable:!0,sortFunction:function(e){var t=Object(P.a)(c.current.props.value).sort((function(e,t){return t.nextEvaluationReportDate-e.nextEvaluationReportDate}));return 1===e.order&&t.reverse(),t}}),Object(r.jsx)(Ee.Column,{field:ua.name,header:ua.label,body:function(e){return $e(e,ua.label,ua.name,!1)},sortable:!0}),Object(r.jsx)(Ee.Column,{field:Ua.name,header:Ua.label,body:function(e){return $e(e,Ua.label,Ua.name,!1)},sortable:!0}),Object(r.jsx)(Ee.Column,{field:ta,header:aa,body:function(e){return $e(e,aa,ta,!1)},sortable:!0})]})]})})]}),Object(r.jsx)(Ae,{title:C+("UPDATE"===G?" con ID: "+(Me&&Me.userId):""),showModalState:pe,closeButtonFunction:function(){be(!1)},children:"CREATE"===G?Object(r.jsx)(Er,{userAction:G,usingUser:Z,selectedUser:Me,educationOptionsUi:l,customModalButtonText:B,sexOptionsUi:u,setShowModal:be,toastRef:i,setSelectedUser:Ce}):Object(r.jsxs)(ve.a,{defaultActiveKey:"details",id:"userTabs",children:[Object(r.jsx)(Se.a,{eventKey:"details",title:"Informaci\xf3n B\xe1sica",children:Object(r.jsx)(Er,{userAction:G,usingUser:Z,selectedUser:Me,educationOptionsUi:l,customModalButtonText:B,sexOptionsUi:u,setShowModal:be,toastRef:i,setSelectedUser:Ce})}),Object(r.jsx)(Se.a,{eventKey:"datesAndNotes",title:"Fechas y Notas",children:Object(r.jsx)(Rr,{usingDatesAndNotes:ce,twoYearRangeRef:p,selectedUser:Me,tomorrowDateRef:g,todayDateRef:h,presentYearRef:m,nextYearRef:j,customModalButtonText:B,userAction:G,setSelectedUser:Ce,toastRef:i,fromScreen:"users",setUsingDatesAndNotes:oe})})]})}),Object(r.jsx)(Wa.Dialog,{header:"Eliminar Usuario con ID: "+(Me?Me.userId:0),visible:fe,modal:!0,style:{width:"350px"},footer:Object(r.jsxs)("div",{children:[Object(r.jsx)(o.Button,{label:"No",icon:"pi pi-times",onClick:function(){return Ne(!1)},className:"p-button-text"}),Object(r.jsx)(o.Button,{label:"S\xed",icon:"pi pi-check",onClick:Qe,disabled:qe}),qe&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]}),onHide:function(){return Ne(!1)},children:Object(r.jsxs)("div",{className:"confirmation-content",children:[Object(r.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),Object(r.jsxs)("span",{children:["\xbfEst\xe1 seguro que quiere eliminar a"," ",Me&&Me.fullName," y todos sus registros?"]})]})})]}),Object(r.jsx)(Or,{screenName:"Usuarios"})]})},Dr=function(e){var t,a,n,i=e.history,c=Object(s.useRef)(null),l=Object(s.useRef)(null),u=Object(s.useRef)(null),m=Object(s.useRef)(null),S=Object(s.useRef)(z(["1er A\xf1o de Preescolar","2do A\xf1o de Preescolar","3er A\xf1o de Preescolar","1er A\xf1o de Primaria","2do A\xf1o de Primaria","3er A\xf1o de Primaria","4to A\xf1o de Primaria","5to A\xf1o de Primaria","6to A\xf1o de Primaria","1er A\xf1o de Secundaria","2do A\xf1o de Secundaria","3rer A\xf1o de Secundaria","1er A\xf1o de Preparatoria","2do A\xf1o de Preparatoria","3er A\xf1o de Preparatoria","4to A\xf1o de Preparatoria","1er A\xf1o de Universidad","2do A\xf1o de Universidad","3er A\xf1o de Universidad","4to A\xf1o de Universidad","5to A\xf1o de Universidad en adelante","Maestr\xeda","Doctorado","Sin estudios","Profesionista"])),y=Object(s.useRef)(z(["Hombre","Mujer"])),E=(Object(s.useRef)(ne()),Object(s.useRef)(se())),N=Object(s.useRef)(ae()),T=Object(s.useRef)(re()),A=Object(s.useRef)($()),I=Object(s.useRef)(ee(A.current.getTime())),w=Object(O.b)(),D=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo,C=Object(O.c)((function(e){return e.therapists})),U=C.loadingTherapists,F=C.therapists;Object(s.useEffect)((function(){D&&0===F.length&&w(pe(c))}),[]);var k=(t={},Object(Ie.a)(t,pa.name,pa.default),Object(Ie.a)(t,ca.name,ca.default),Object(Ie.a)(t,oa.name,oa.default),Object(Ie.a)(t,la.name,la.default),Object(Ie.a)(t,da.name,da.default),Object(Ie.a)(t,ba.name,ba.default),Object(Ie.a)(t,ha.name,ha.default),Object(Ie.a)(t,ma.name,ma.default),Object(Ie.a)(t,ja.name,ja.default),Object(Ie.a)(t,ua.name,ua.default),Object(Ie.a)(t,Aa,Ia),Object(Ie.a)(t,Pa.name,Pa.default),Object(Ie.a)(t,wa,Ra),t),B=Object(s.useState)(""),V=Object(xe.a)(B,2),H=V[0],K=V[1],J=Object(s.useState)(""),Y=Object(xe.a)(J,2),X=Y[0],Z=Y[1],Q=Object(s.useState)(""),te=Object(xe.a)(Q,2),ce=te[0],le=te[1],de=Object(s.useState)(k),me=Object(xe.a)(de,2),Oe=me[0],fe=me[1],Ne=Object(s.useState)(!1),Te=Object(xe.a)(Ne,2),Le=Te[0],we=Te[1],Re=Object(s.useState)(!1),_e=Object(xe.a)(Re,2),De=_e[0],Me=_e[1],Ce=Object(s.useState)(!1),Ue=Object(xe.a)(Ce,2),Fe=Ue[0],ke=Ue[1],Be=Object(s.useState)(null),Ve=Object(xe.a)(Be,2),He=Ve[0],Ke=Ve[1],Ge=Object(s.useState)(null),Je=Object(xe.a)(Ge,2),Ye=Je[0],ze=(Je[1],Object(s.useState)(null)),We=Object(xe.a)(ze,2),qe=We[0],Xe=(We[1],Object(s.useState)(null)),Ze=Object(xe.a)(Xe,2),Qe=Ze[0],$e=Ze[1],et=Object(s.useState)(null),tt=Object(xe.a)(et,2),at=tt[0],rt=tt[1],st=Object(s.useState)(!1),nt=Object(xe.a)(st,2),it=nt[0],ct=nt[1],ot=Object(s.useState)(null),lt=Object(xe.a)(ot,2),dt=lt[0],ut=lt[1],pt=Object(s.useState)(null),bt=Object(xe.a)(pt,2),mt=bt[0],jt=bt[1],ht=Object(s.useState)(null),Ot=Object(xe.a)(ht,2),ft=Ot[0],xt=Ot[1],gt=Object(s.useState)(!1),vt=Object(xe.a)(gt,2),St=vt[0],yt=vt[1],Et=Object(s.useState)(!1),Nt=Object(xe.a)(Et,2),Tt=Nt[0],At=Nt[1],It=Object(s.useState)(!1),Lt=Object(xe.a)(It,2),Pt=Lt[0],wt=Lt[1],Rt=Object(s.useState)(!1),_t=Object(xe.a)(Rt,2),Dt=_t[0],Mt=_t[1],Ct=Object(s.useRef)(null),Ut=Object(s.useState)([]),Ft=Object(xe.a)(Ut,2),kt=Ft[0],Bt=Ft[1],Vt=Object(s.useState)(!1),Ht=Object(xe.a)(Vt,2),Kt=Ht[0],Gt=Ht[1];if(!D)return i.push("/login"),Object(r.jsx)(r.Fragment,{});if(!D.isAdmin)return i.push("/"),Object(r.jsx)(r.Fragment,{});var Jt=function(){wt(!1),Me(!1)},Yt=function(){At(!1),ct(!1),ke(!1),setTimeout((function(){$e(null),Bt([]),rt(null)}),1e3)},zt=function(e,t,a,s){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"p-column-title",children:t}),s&&Object(r.jsx)(ge.a,{src:W(e.imageUrl),style:{margin:"5px 10px"},className:"p-shadow-2 rounded-image rounded-image-small"}),e[a]]})},Wt=function(e,t,a,s){return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)(ge.a,{src:W(e.imageUrl),style:{margin:"5px 10px"},className:"p-shadow-2 rounded-image rounded-image-small"}),e[a]]})},qt=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:"Seleccione un Usuario para ver sus detalles:"}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"datatable-doc-demo",children:[Object(r.jsxs)(ye.DataTable,{ref:m,value:Qe.users,className:"p-datatable-customers",dataKey:"userId",rowHover:!0,globalFilter:Ye,selection:dt,onSelectionChange:function(e){return ut(e.value)},onRowDoubleClick:function(e){return function(e){null!=dt?dt.userId!==e.data.userId?ut(e.data):ut(null):ut(e.data)}(e)},paginator:!0,rows:10,emptyMessage:"Sin usuarios",currentPageReportTemplate:"Mostrando usuarios de {first} a {last} de un total de {totalRecords}",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],loading:St,loadingIcon:"pi pi-spinner",style:{width:"100%",minWidth:"100%"},children:[Object(r.jsx)(Ee.Column,{selectionMode:"single",style:{width:"3em"}}),Object(r.jsx)(Ee.Column,{field:$t,header:ea,body:function(e){return Wt(e,0,$t,!0)},sortable:!0})]}),Object(r.jsx)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Continuar",icon:"pi pi-arrow-right",className:"p-button",type:"button",onClick:function(e){var t;K("Detalles de Usuario con ID: "+(dt?dt.userId:0)),jt(Object(d.a)(Object(d.a)({},dt),{},{birthday:q(dt.birthday)})),xt((t={},Object(Ie.a)(t,Oa,dt.nextFollowupDate?new Date(dt.nextFollowupDate):null),Object(Ie.a)(t,va,dt.nextEvaluationReportDate?new Date(dt.nextEvaluationReportDate):null),Object(Ie.a)(t,Fa,dt.notesContents),t)),le("USER")},disabled:null==dt})})})]})]})},Xt=function(){return"UPDATE"===ce||"DETAILS"===ce?Object(r.jsx)(tr,{therapistAction:ce,usingTherapist:Oe,selectedTherapist:Qe,educationOptionsUi:S,customModalButtonText:X,sexOptionsUi:y,setShowModal:we,toastRef:c,setSelectedTherapist:$e,therapistInfo:D,fromProfile:!1}):"USERS"===ce?Object(r.jsx)(qt,{}):"USER"===ce?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.Button,{label:"Regresar a usuarios",icon:"pi pi-arrow-left",className:"p-button p-mt-2 p-mb-2",type:"button",onClick:function(e){return le("USERS")}}),Object(r.jsxs)(ve.a,{defaultActiveKey:"details",id:"userTabs",children:[Object(r.jsx)(Se.a,{eventKey:"details",title:"Informaci\xf3n B\xe1sica",children:Object(r.jsx)(Er,{userAction:"DETAILS",usingUser:mt,selectedUser:dt,educationOptionsUi:S,customModalButtonText:"Guardar",sexOptionsUi:y,setShowModal:we,toastRef:c,setSelectedUser:ut})}),Object(r.jsx)(Se.a,{eventKey:"datesAndNotes",title:"Fechas y Notas",children:Object(r.jsx)(Rr,{usingDatesAndNotes:ft,twoYearRangeRef:E,selectedUser:dt,tomorrowDateRef:I,todayDateRef:A,presentYearRef:N,nextYearRef:T,customModalButtonText:"Guardar",userAction:"UPDATE",setSelectedUser:ut,toastRef:c,therapistId:Qe.therapistId,setSelectedTherapist:$e,fromScreen:"therapists",setUsingDatesAndNotes:xt})})]})]}):void 0};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(lr,{}),Object(r.jsx)(ar.Toast,{ref:c,position:"top-right",baseZIndex:1e4}),Object(r.jsxs)("main",{className:"py-4",children:[Object(r.jsxs)(je.a,{children:[Object(r.jsx)("h1",{style:{color:"white"},children:"Administraci\xf3n de Terapeutas"}),Object(r.jsx)("div",{id:"dashboardA",children:Object(r.jsxs)("a",{href:"/",children:[Object(r.jsx)("i",{className:"pi pi-arrow-left"})," Regresar a Dashboard"]})}),Object(r.jsx)(he.a,{children:Object(r.jsxs)("div",{className:"datatable-doc-demo",children:[Object(r.jsx)(gr.Menubar,{model:[{label:"Invitar",icon:"pi pi-plus",command:function(){Z("Invitar"),le("CREATE"),Me(!0)}},{label:"Editar",icon:"pi pi-pencil",command:function(){K("Editar Terapeuta"),Z("Guardar"),le("UPDATE"),fe(Qe),we(!0)},disabled:null==Qe||Qe.therapistId!==D.therapistId&&!!Qe.isAdmin||"Pendiente"===Qe.accountState},{label:"Detalles",icon:"pi pi-eye",command:function(){K("Detalles de Terapeuta"),Z(""),le("DETAILS"),fe(Qe),we(!0)},disabled:null==Qe},{label:"Usuarios",icon:"pi pi-users",command:function(){Qe.therapistId===D.therapistId?document.location.href="/users":(0===Qe.users.length&&(yt(!0),w(function(e,t,a,r){return function(){var s=Object(_.a)(R.a.mark((function s(n){var i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={headers:{"Content-Type":"application/json"},withCredentials:!0,params:{therapistId:e}},s.prev=1,s.next=4,M.a.get(f+x+v,i).then((function(t){var s=ie(t.data.subBody),i=JSON.parse(sessionStorage.getItem("therapistsSK-2021")),c=i.map((function(e){return e.therapistId})).indexOf(e),o=i[c];o.users=s,i[c]=o,r(o),sessionStorage.setItem("therapistsSK-2021",JSON.stringify(i)),n({type:G,payload:i}),a(!1)})).catch((function(e){a(!1),401!==e.response.status||n(ue())}));case 4:s.next=12;break;case 6:s.prev=6,s.t0=s.catch(1),console.log(s.t0,"getUsersListFor"),a(!1),t.current.clear(),t.current.show({severity:"error",summary:L.error,detail:"Error obteniendo usuarios para terapeuta.",sticky:!0,closable:!0});case 12:case"end":return s.stop()}}),s,null,[[1,6]])})));return function(e){return s.apply(this,arguments)}}()}(Qe.therapistId,c,yt,$e))),K("Usuarios de Terapeuta"),le("USERS"),we(!0))},disabled:null==Qe||"Pendiente"===Qe.accountState},{label:"Eliminar",icon:"pi pi-trash",command:function(){Gt(!0),new Promise((function(e){var t=Object(P.a)(F),a=t.map((function(e){return e.therapistId})).indexOf(Qe.therapistId);t.splice(a,1),Bt(t),Gt(!1)})),"Pendiente"===Qe.accountState?ct(!0):ct(!1),ke(!0)},disabled:null==Qe||Qe.isAdmin},{label:"Recargar",icon:"pi pi-replay",command:function(){$e(null),w(pe(c))},disabled:U}],end:Object(r.jsxs)("span",{className:"p-input-icon-left",children:[Object(r.jsx)("i",{className:"pi pi-search"}),Object(r.jsx)(b.InputText,{type:"search",onInput:function(e){return Ke(e.target.value)},placeholder:"B\xfasqueda"})]})}),Object(r.jsxs)(ye.DataTable,{ref:l,value:F,className:"p-datatable-customers",dataKey:"therapistId",rowHover:!0,globalFilter:He,selection:Qe,onSelectionChange:function(e){return $e(e.value)},onRowDoubleClick:function(e){return function(e){null!=Qe?Qe.therapistId!==e.data.therapistId?$e(e.data):$e(null):$e(e.data)}(e)},paginator:!0,rows:10,emptyMessage:"Sin terapeutas",currentPageReportTemplate:"Mostrando terapeutas de {first} a {last} de un total de {totalRecords}",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],loading:U,loadingIcon:"pi pi-spinner",style:{width:"100%",minWidth:"100%"},children:[Object(r.jsx)(Ee.Column,{selectionMode:"single",style:{width:"3em"}}),Object(r.jsx)(Ee.Column,{field:$t,header:ea,body:function(e){return zt(e,ea,$t,!0)},sortable:!0,style:{width:"300px"}}),Object(r.jsx)(Ee.Column,{field:pa.name,header:pa.label,body:function(e){return zt(e,pa.label,pa.name,!1)},sortable:!0,style:{width:"250px",wordWrap:"break-word"}}),Object(r.jsx)(Ee.Column,{field:ra,header:sa,body:function(e){return zt(e,sa,ra,!1)},sortable:!0,sortFunction:function(e){var t=Object(P.a)(l.current.props.value).sort((function(e,t){return t.lastSessionDate-e.lastSessionDate}));return 1===e.order&&t.reverse(),t}}),Object(r.jsx)(Ee.Column,{field:na,header:ia,body:function(e){return function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"p-column-title",children:ia}),e[na]?"S\xed":"No"]})}(e)},sortable:!0}),Object(r.jsx)(Ee.Column,{field:Aa,header:La,body:function(e){return zt(e,La,Aa,!1)},sortable:!0})]})]})})]}),Object(r.jsx)(Ae,{title:H+("UPDATE"===ce?" con ID: "+(Qe&&Qe.therapistId):""),showModalState:Le,closeButtonFunction:function(){"USERS"!==ce&&"USER"!==ce||setTimeout((function(){ut(null),jt(null)}),1e3),we(!1)},children:Object(r.jsx)(Xt,{})}),Object(r.jsxs)(Wa.Dialog,{header:"Eliminar Terapeuta con ID: "+(Qe?Qe.therapistId:0),visible:Fe,modal:!0,style:{width:"50vw",textAlign:"left"},onHide:function(){ct(!1),ke(!1),setTimeout((function(){rt(null),Bt([])}),1e3)},children:[!it&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{children:["Antes de eliminar a"," ",Qe&&Qe.fullName,", favor de seleccionar a otro Terapeuta para asignar sus usuarios:"]}),Object(r.jsx)("br",{}),Object(r.jsxs)(ye.DataTable,{ref:u,value:kt,className:"p-datatable-customers",dataKey:"therapistId",rowHover:!0,globalFilter:qe,selection:at,onSelectionChange:function(e){return rt(e.value)},onRowDoubleClick:function(e){return function(e){null!=at?at.therapistId!==e.data.therapistId?rt(e.data):rt(null):rt(e.data)}(e)},paginator:!0,rows:10,emptyMessage:"Sin terapeutas",currentPageReportTemplate:"Mostrando terapeutas de {first} a {last} de un total de {totalRecords}",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],loading:Kt,loadingIcon:"pi pi-spinner",style:{width:"100%",minWidth:"100%"},children:[Object(r.jsx)(Ee.Column,{selectionMode:"single",style:{width:"3em"}}),Object(r.jsx)(Ee.Column,{field:$t,header:ea,body:function(e){return Wt(e,0,$t,!0)},sortable:!0})]}),Object(r.jsx)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Continuar",icon:"pi pi-arrow-right",className:"p-button",type:"button",onClick:function(e){return ct(!0)},disabled:null==at})})})]}),it&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"confirmation-content",children:[Object(r.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),Qe&&Object(r.jsxs)(r.Fragment,{children:["Pendiente"===Qe.accountState&&Object(r.jsxs)("span",{children:["\xbfEst\xe1 seguro que quiere eliminar a"," ",Qe&&Qe.fullName,"?"]}),"Pendiente"!==Qe.accountState&&Object(r.jsxs)("span",{children:["\xbfEst\xe1 seguro que quiere eliminar a"," ",Qe&&Qe.fullName,", sus registros y asignar sus usuarios a"," ",at&&at.fullName,"?"]})]})]}),Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Qe&&Object(r.jsxs)(r.Fragment,{children:["Pendiente"!==Qe.accountState&&Object(r.jsx)(o.Button,{label:"Regresar",icon:"pi pi-arrow-left",className:"p-button",type:"button",onClick:function(e){return ct(!1)},disabled:Tt}),"Pendiente"===Qe.accountState&&Object(r.jsx)(o.Button,{label:"Cancelar",icon:"pi pi-times",className:"p-button p-button-danger",type:"button",onClick:function(e){ke(!1),rt(null),Bt([])}})]})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Aceptar",icon:"pi pi-check",className:"p-button p-button-success",type:"button",onClick:function(){At(!0),w(function(e,t,a,r,s){return function(){var n=Object(_.a)(R.a.mark((function n(i){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"},withCredentials:!0,params:{newTherapistId:t}},n.prev=1,n.next=4,M.a.delete(f+x+g+"/"+e,c).then((function(e){sessionStorage.setItem("therapistsSK-2021",JSON.stringify(a)),i({type:G,payload:a}),r(),s.current.clear(),s.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})})).catch((function(e){e.response&&401===e.response.status&&i(ue())}));case 4:n.next=12;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0,"deleteTherapist"),r(),s.current.clear(),s.current.show({severity:"error",summary:L.error,detail:"Error eliminando Terapeuta.",sticky:!0,closable:!0});case 12:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()}(Qe.therapistId,at.therapistId,kt,Yt,c))},disabled:Tt})}),Tt&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})]})]}),Object(r.jsxs)(Wa.Dialog,{header:"Invitar nuevos Terapeutas",visible:De,modal:!0,style:{width:"50vw",textAlign:"left"},onHide:function(){return Me(!1)},children:[Object(r.jsx)("span",{children:"Favor de ingresar las direcciones de correos electr\xf3nico de Terapeutas (separados por coma) que desee formen parte de la plataforma:"}),Object(r.jsx)(p.c,{initialValues:(a={},Object(Ie.a)(a,Ta.name,Ta.default),Object(Ie.a)(a,Na.name,Na.default),a),validationSchema:h.e().shape((n={},Object(Ie.a)(n,Ta.name,Ta.validation),Object(Ie.a)(n,Na.name,Na.validation),n)),onSubmit:function(e,t){wt(!0),t.setSubmitting(!0),w(function(e,t,a,r){return function(){var s=Object(_.a)(R.a.mark((function s(n){var i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={headers:{"Content-Type":"application/json"},withCredentials:!0},s.prev=1,s.next=4,M.a.post(f+x+g,e,i).then((function(e){var s=oe(e.data.subBody.newTherapists),i=JSON.parse(sessionStorage.getItem("therapistsSK-2021"));s.forEach((function(e){i.push(e)})),sessionStorage.setItem("therapistsSK-2021",JSON.stringify(i)),n({type:G,payload:i}),r(!1),t(),a.current.clear();var c=e.data.subBody.new.map((function(e){return e+", "}));c=c.substring(0,c.length-3)+".",(e.data.severity="many")?a.current.show({severity:"info",summary:L.info,detail:e.data.message+" "+c,life:4e3,closable:!0}):(e.data.severity="success")?a.current.show([{severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0},{severity:"info",summary:L.info,detail:"Cuentas nuevas: "+c,life:4e3,closable:!0}]):a.current.show({severity:e.data.severity,summary:L[e.data.severity],detail:e.data.message,life:4e3,closable:!0})})).catch((function(e){if(e.response){if(401===e.response.status)return void n(ue());e.response.data&&(console.log("createTherapists - catch"),console.log(e),console.log(e.response),r(!1),t(),a.current.clear(),a.current.show({severity:e.response.data.severity,summary:L[e.response.data.severity],detail:e.response.data.message,life:4e3,closable:!0}))}}));case 4:s.next=13;break;case 6:s.prev=6,s.t0=s.catch(1),console.log(s.t0,"createTherapists"),r(!1),t(),a.current.clear(),a.current.show({severity:"error",summary:L.error,detail:"Error creando Terapeutas.",sticky:!0,closable:!0});case 13:case"end":return s.stop()}}),s,null,[[1,6]])})));return function(e){return s.apply(this,arguments)}}()}(e,Jt,c,t.setSubmitting))},children:function(e){var t=e.values,a=e.isSubmitting,s=e.isValid,n=e.setFieldValue,i=e.touched,c=e.errors,l=e.setFieldTouched;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsxs)("div",{className:"p-col-12 p-field p-mt-2",children:[Object(r.jsx)(be.Messages,{ref:Ct}),Object(r.jsx)("label",{id:Ta.name+"-label",htmlFor:Ta.name,children:Ta.label}),Dt&&Object(r.jsx)("ul",{children:t[Ta.name].map((function(e){return Object(r.jsx)("li",{children:e},e)}))}),!Dt&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(or.Chips,{id:Ta.name,value:t[Ta.name],onChange:function(e){n(Ta.name,e.value)},separator:",",placeholder:Ta.placeholder,max:10,ariaLabelledBy:Ta.name+"-helper",allowDuplicate:!1,onBlur:function(e){l(Ta.name,!0)},disabled:Dt}),Object(r.jsx)("small",{id:Ta.name+"-helper",children:"M\xe1ximo: 10 direcciones. Ej. john@doe.com, carmen@hotmail.com, etc."}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{id:Ta.name+"-error",className:"p-invalid",children:i[Ta.name]&&c[Ta.name]&&c[Ta.name]})]})]}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:Na.name,labelText:Na.label,placeholder:Na.placeholder,type:"password",disabled:Dt})}),Object(r.jsx)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:Dt?"Regresar":"Cancelar",icon:Dt?"pi pi-arrow-left":"pi pi-times",className:"p-button "+(Dt?"":"p-button-danger"),onClick:function(e){Dt?(Mt(!1),Ct.current.clear()):Me(!1)},disabled:a||Pt,type:"button"})}),Object(r.jsxs)("div",{className:"p-col-6 p-mt-3 p-mb-3",children:[Dt&&Object(r.jsx)(o.Button,{label:X,icon:"pi pi-check",className:"p-button p-button-success",type:"submit",disabled:!s||a||Pt}),!Dt&&Object(r.jsx)(o.Button,{label:"Continuar",icon:"pi pi-arrow-right",className:"p-button",disabled:!s,onClick:function(e){Mt(!0),Ct.current.clear(),Ct.current.show([{severity:"warn",summary:"",detail:"Al introducir su contrase\xf1a y presionar \u201cInvitar\u201d, est\xe1 seguro de que las direcciones de correo electr\xf3nico introducidas son las correctas.",sticky:!0}])}})]}),Pt&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})})}})]})]}),Object(r.jsx)(Or,{screenName:"Administracion"})]})},Mr=a(183),Cr=h.e().shape((Pr={},Object(Ie.a)(Pr,ca.name,ca.validation),Object(Ie.a)(Pr,oa.name,oa.validation),Object(Ie.a)(Pr,la.name,la.validation),Object(Ie.a)(Pr,da.name,da.validation),Object(Ie.a)(Pr,ua.name,ua.validation),Object(Ie.a)(Pr,pa.name,pa.validation),Object(Ie.a)(Pr,ma.signupName,ma.signupValidation),Object(Ie.a)(Pr,ja.signupName,ja.signupValidation),Pr)),Ur=(wr={},Object(Ie.a)(wr,pa.name,pa.default),Object(Ie.a)(wr,ca.name,ca.default),Object(Ie.a)(wr,oa.name,oa.default),Object(Ie.a)(wr,la.name,la.default),Object(Ie.a)(wr,da.name,da.default),Object(Ie.a)(wr,ma.signupName,ma.default),Object(Ie.a)(wr,ja.signupName,ja.default),Object(Ie.a)(wr,ua.name,ua.default),wr),Fr=function(e){var t=e.history,a=e.match,n=Object(s.useRef)(null),i=Object(s.useRef)(null),c=Object(O.c)((function(e){return e.therapistLogin})).therapistInfo,l=Object(s.useState)(!1),d=Object(xe.a)(l,2),u=d[0],b=d[1],m=Object(s.useState)("LOADING"),h=Object(xe.a)(m,2),g=h[0],v=h[1],S=Object(s.useRef)(z(["Hombre","Mujer"])),y=a.params.uuid?a.params.uuid:"";if(Object(s.useEffect)((function(){M.a.get(f+x+"/access/invite/"+y).then((function(e){Ur.email=e.data,v("CONTINUE")})).catch((function(e){console.log("useEffect - catch"),v("ERROR"),e.response?n.current.replace([{severity:e.response.data.severity,detail:e.response.data.message,sticky:!0,closable:!1}]):n.current.replace([{severity:"error",detail:"Ocurri\xf3 un error interno :(",sticky:!0,closable:!1}])}))}),[y]),c)return t.push("/"),Object(r.jsx)(r.Fragment,{});return Object(r.jsx)("div",{className:"FORM"===g?"add-align-form":"outer",children:Object(r.jsxs)("div",{className:"inner",children:[Object(r.jsx)("img",{alt:"Logo",src:E,style:{width:"50%",marginRight:"auto",marginLeft:"auto",display:"block",padding:"20px"}}),Object(r.jsx)("h3",{style:{textAlign:"center"},children:function(){switch(g){case"LOADING":return"Cargando...";case"CONTINUE":return"\xa1Bienvenido a SuperaKids!";default:return"Creaci\xf3n de Cuenta"}}()}),Object(r.jsx)(be.Messages,{ref:n}),Object(r.jsx)("hr",{}),"LOADING"===g&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"center-spinner",children:Object(r.jsx)(Mr.ProgressSpinner,{})})}),"ERROR"===g&&Object(r.jsx)(r.Fragment,{}),"CONTINUE"===g&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"Antes de poder utilizar la plataforma es necesario que configure su cuenta."}),Object(r.jsx)(o.Button,{label:"Continuar",icon:"pi pi-arrow-right",iconPos:"right",className:"p-button p-mt-1 p-mb-1",type:"button",onClick:function(e){v("FORM"),setTimeout((function(){i.current.show(T)}),1e3)}})]}),"FORM"===g&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(p.c,{initialValues:Ur,validationSchema:Cr,onSubmit:function(e,t){b(!0),t.setSubmitting(!0),M.a.post(f+x+"/access/invite/"+y,e,{headers:{"Content-Type":"application/json"}}).then((function(e){n.current.replace([{severity:e.data.severity,detail:e.data.message,sticky:!0,closable:!1}]),t.setSubmitting(!1),b(!1),v("FINISH")})).catch((function(e){console.log("handleInviteSubmit - catch"),v("ERROR"),e.response?n.current.replace([{severity:e.response.data.severity,detail:e.response.data.message,sticky:!0,closable:!1}]):n.current.replace([{severity:"error",detail:"Ocurri\xf3 un error tratando de crear cuenta.",sticky:!0,closable:!1}])}))},children:function(e){var t=e.values,a=e.isSubmitting,s=e.isValid,n=e.setFieldValue,c=e.touched,l=e.errors;return Object(r.jsx)(p.b,{children:Object(r.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:[Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)("h6",{children:"Datos Personales y Credenciales"})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:ca.name,labelText:ca.label,placeholder:ca.placeholder})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:oa.name,labelText:oa.label,placeholder:oa.placeholder,optionalField:!0})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:la.name,labelText:la.label,placeholder:la.placeholder})}),Object(r.jsx)("div",{className:"p-col-6",children:Object(r.jsx)(j,{inputName:da.name,labelText:da.label,placeholder:da.placeholder})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsxs)("div",{className:"p-field",children:[Object(r.jsx)("label",{htmlFor:ua.name,children:ua.label}),Object(r.jsx)(Le.Dropdown,{name:ua.name,inputId:ua.name,value:t[ua.name],options:S.current,onChange:function(e){n(ua.name,e.target.value)},placeholder:ua.placeholder}),Object(r.jsx)("small",{id:ua.name+"-error",className:"p-invalid",children:c[ua.name]&&l[ua.name]&&l[ua.name]})]})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:pa.name,labelText:pa.label,placeholder:pa.placeholder})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)("div",{className:" p-mt-3 p-mb-3 ",children:Object(r.jsx)(be.Messages,{ref:i})})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:ma.signupName,labelText:ma.label,placeholder:ma.placeholder,type:"password"})}),Object(r.jsx)("div",{className:"p-col-12",children:Object(r.jsx)(j,{inputName:ja.signupName,labelText:ja.label,placeholder:ja.placeholder,type:"password"})}),Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Crear Cuenta",icon:"pi pi-check",className:"p-button",type:"submit",disabled:a||!s||u})}),u&&Object(r.jsx)("div",{className:"p-col-12 p-mt-1 p-mb-1",children:Object(r.jsx)(Pe.ProgressBar,{mode:"indeterminate",style:{height:"6px"}})})]})})}})}),"FINISH"===g&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"p-fluid p-formgrid p-grid",style:{width:"100%",maxWidth:"100%"},children:Object(r.jsx)("div",{className:"p-col-12 p-mt-3 p-mb-3",children:Object(r.jsx)(o.Button,{label:"Ir a Inicio de Sesi\xf3n",className:"p-button p-mt-1 p-mb-1",type:"button",onClick:function(e){t.push("/login")}})})})})]})})},kr=a(18);var Br=function(){return Object(r.jsx)(fr.BrowserRouter,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(kr.g,{children:[Object(r.jsx)(kr.d,{path:"/login",component:me}),Object(r.jsx)(kr.d,{path:"/users",component:_r}),Object(r.jsx)(kr.d,{path:"/administration",component:Dr}),Object(r.jsx)(kr.d,{path:"/dashboard",component:xr}),Object(r.jsx)(kr.d,{exact:!0,path:"/",component:xr}),Object(r.jsx)(kr.d,{exact:!0,path:"/invite/:uuid",component:Fr})]})})})},Vr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,402)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),n(e),i(e)}))},Hr=a(396),Kr=a(187),Gr=a(186),Jr=a(59),Yr=a(184),zr=a(185),Wr=Object(Jr.combineReducers)({therapistLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case U:return{loading:!1,therapistInfo:t.payload};case F:return{loading:!1};case k:return{};default:return e}},updateTherapistProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case V:case H:return{loading:!1};default:return e}},problem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mr:return{loading:!0};case jr:case hr:return{loading:!1};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadingUsers:!1,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ka:return{loadingUsers:!0};case Ga:return{loadingUsers:!1,users:t.payload};case Ja:return{loadingUsers:!1,users:[]};default:return e}},therapists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadingTherapists:!1,therapists:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loadingTherapists:!0};case G:return{loadingTherapists:!1,therapists:t.payload};case J:return{loadingTherapists:!1,therapists:[]};default:return e}}}),qr={therapistLogin:{therapistInfo:sessionStorage.getItem("therapistInfoSK-2021")?JSON.parse(sessionStorage.getItem("therapistInfoSK-2021")):null},users:{users:sessionStorage.getItem("usersSK-2021")?JSON.parse(sessionStorage.getItem("usersSK-2021")):[]},therapists:{therapists:sessionStorage.getItem("therapistsSK-2021")?JSON.parse(sessionStorage.getItem("therapistsSK-2021")):[]}},Xr=[Yr.a],Zr=Object(Jr.createStore)(Wr,qr,Object(zr.composeWithDevTools)(Jr.applyMiddleware.apply(void 0,Xr)));Hr.a.addDefaultLocale(Gr),Hr.a.addLocale(Kr),c.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(O.a,{store:Zr,children:Object(r.jsx)(Br,{})})}),document.getElementById("root")),Vr()}},[[386,1,2]]]);
//# sourceMappingURL=main.a2ab8571.chunk.js.map